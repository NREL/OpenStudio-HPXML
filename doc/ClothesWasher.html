<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: ClothesWasher
  
    &mdash; Documentation by YARD 0.9.16
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "ClothesWasher";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (C)</a> &raquo;
    
    
    <span class="title">ClothesWasher</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: ClothesWasher
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">ClothesWasher</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>resources/appliances.rb</dd>
  </dl>
  
</div>








  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#apply-class_method" title="apply (class method)">.<strong>apply</strong>(model, unit, runner, imef, rated_annual_energy, annual_cost, test_date, drum_volume, cold_cycle, thermostatic_control, internal_heater, fill_sensor, mult_e, mult_hw, d_sh, cd_sch, space, plant_loop, mains_temps)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove-class_method" title="remove (class method)">.<strong>remove</strong>(runner, space, obj_name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="apply-class_method">
  
    .<strong>apply</strong>(model, unit, runner, imef, rated_annual_energy, annual_cost, test_date, drum_volume, cold_cycle, thermostatic_control, internal_heater, fill_sensor, mult_e, mult_hw, d_sh, cd_sch, space, plant_loop, mains_temps)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'resources/appliances.rb', line 82</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_apply'>apply</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_unit'>unit</span><span class='comma'>,</span> <span class='id identifier rubyid_runner'>runner</span><span class='comma'>,</span> <span class='id identifier rubyid_imef'>imef</span><span class='comma'>,</span> <span class='id identifier rubyid_rated_annual_energy'>rated_annual_energy</span><span class='comma'>,</span> <span class='id identifier rubyid_annual_cost'>annual_cost</span><span class='comma'>,</span>
               <span class='id identifier rubyid_test_date'>test_date</span><span class='comma'>,</span> <span class='id identifier rubyid_drum_volume'>drum_volume</span><span class='comma'>,</span> <span class='id identifier rubyid_cold_cycle'>cold_cycle</span><span class='comma'>,</span> <span class='id identifier rubyid_thermostatic_control'>thermostatic_control</span><span class='comma'>,</span>
               <span class='id identifier rubyid_internal_heater'>internal_heater</span><span class='comma'>,</span> <span class='id identifier rubyid_fill_sensor'>fill_sensor</span><span class='comma'>,</span> <span class='id identifier rubyid_mult_e'>mult_e</span><span class='comma'>,</span> <span class='id identifier rubyid_mult_hw'>mult_hw</span><span class='comma'>,</span> <span class='id identifier rubyid_d_sh'>d_sh</span><span class='comma'>,</span> <span class='id identifier rubyid_cd_sch'>cd_sch</span><span class='comma'>,</span>
               <span class='id identifier rubyid_space'>space</span><span class='comma'>,</span> <span class='id identifier rubyid_plant_loop'>plant_loop</span><span class='comma'>,</span> <span class='id identifier rubyid_mains_temps'>mains_temps</span><span class='rparen'>)</span>

  <span class='comment'># Check for valid inputs
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_imef'>imef</span> <span class='op'>&lt;=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_runner'>runner</span><span class='period'>.</span><span class='id identifier rubyid_registerError'>registerError</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Integrated modified energy factor must be greater than 0.0.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_rated_annual_energy'>rated_annual_energy</span> <span class='op'>&lt;=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_runner'>runner</span><span class='period'>.</span><span class='id identifier rubyid_registerError'>registerError</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Rated annual consumption must be greater than 0.0.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_annual_cost'>annual_cost</span> <span class='op'>&lt;=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_runner'>runner</span><span class='period'>.</span><span class='id identifier rubyid_registerError'>registerError</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Annual cost with gas DHW must be greater than 0.0.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_test_date'>test_date</span> <span class='op'>&lt;</span> <span class='int'>1900</span>
    <span class='id identifier rubyid_runner'>runner</span><span class='period'>.</span><span class='id identifier rubyid_registerError'>registerError</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Test date must be greater than or equal to 1900.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_drum_volume'>drum_volume</span> <span class='op'>&lt;=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_runner'>runner</span><span class='period'>.</span><span class='id identifier rubyid_registerError'>registerError</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Drum volume must be greater than 0.0.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_mult_e'>mult_e</span> <span class='op'>&lt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_runner'>runner</span><span class='period'>.</span><span class='id identifier rubyid_registerError'>registerError</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Occupancy energy multiplier must be greater than or equal to 0.0.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_mult_hw'>mult_hw</span> <span class='op'>&lt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_runner'>runner</span><span class='period'>.</span><span class='id identifier rubyid_registerError'>registerError</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Occupancy hot water multiplier must be greater than or equal to 0.0.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_d_sh'>d_sh</span> <span class='op'>&lt;</span> <span class='int'>0</span> <span class='kw'>or</span> <span class='id identifier rubyid_d_sh'>d_sh</span> <span class='op'>&gt;</span> <span class='int'>364</span>
    <span class='id identifier rubyid_runner'>runner</span><span class='period'>.</span><span class='id identifier rubyid_registerError'>registerError</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hot water draw profile can only be shifted by 0-364 days.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>

  <span class='comment'># Get unit beds/baths
</span>  <span class='id identifier rubyid_nbeds'>nbeds</span><span class='comma'>,</span> <span class='id identifier rubyid_nbaths'>nbaths</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Geometry.html" title="Geometry (class)">Geometry</a></span></span><span class='period'>.</span><span class='id identifier rubyid_get_unit_beds_baths'><span class='object_link'><a href="Geometry.html#get_unit_beds_baths-class_method" title="Geometry.get_unit_beds_baths (method)">get_unit_beds_baths</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_unit'>unit</span><span class='comma'>,</span> <span class='id identifier rubyid_runner'>runner</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_nbeds'>nbeds</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_nbaths'>nbaths</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>

  <span class='comment'># Get water heater setpoint
</span>  <span class='id identifier rubyid_wh_setpoint'>wh_setpoint</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Waterheater.html" title="Waterheater (class)">Waterheater</a></span></span><span class='period'>.</span><span class='id identifier rubyid_get_water_heater_setpoint'>get_water_heater_setpoint</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_plant_loop'>plant_loop</span><span class='comma'>,</span> <span class='id identifier rubyid_runner'>runner</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_wh_setpoint'>wh_setpoint</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_mains_temps'>mains_temps</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='comment'># Get mains monthly temperatures
</span>    <span class='id identifier rubyid_site'>site</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_getSite'>getSite</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_site'>site</span><span class='period'>.</span><span class='id identifier rubyid_siteWaterMainsTemperature'>siteWaterMainsTemperature</span><span class='period'>.</span><span class='id identifier rubyid_is_initialized'>is_initialized</span>
      <span class='id identifier rubyid_runner'>runner</span><span class='period'>.</span><span class='id identifier rubyid_registerError'>registerError</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Mains water temperature has not been set.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>false</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_waterMainsTemperature'>waterMainsTemperature</span> <span class='op'>=</span> <span class='id identifier rubyid_site'>site</span><span class='period'>.</span><span class='id identifier rubyid_siteWaterMainsTemperature'>siteWaterMainsTemperature</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span>
    <span class='id identifier rubyid_avgOAT'>avgOAT</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="UnitConversions.html" title="UnitConversions (class)">UnitConversions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_convert'><span class='object_link'><a href="UnitConversions.html#convert-class_method" title="UnitConversions.convert (method)">convert</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_waterMainsTemperature'>waterMainsTemperature</span><span class='period'>.</span><span class='id identifier rubyid_annualAverageOutdoorAirTemperature'>annualAverageOutdoorAirTemperature</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>F</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_maxDiffMonthlyAvgOAT'>maxDiffMonthlyAvgOAT</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="UnitConversions.html" title="UnitConversions (class)">UnitConversions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_convert'><span class='object_link'><a href="UnitConversions.html#convert-class_method" title="UnitConversions.convert (method)">convert</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_waterMainsTemperature'>waterMainsTemperature</span><span class='period'>.</span><span class='id identifier rubyid_maximumDifferenceInMonthlyAverageOutdoorAirTemperatures'>maximumDifferenceInMonthlyAverageOutdoorAirTemperatures</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>K</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>R</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_mains_temps'>mains_temps</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="WeatherProcess.html" title="WeatherProcess (class)">WeatherProcess</a></span></span><span class='period'>.</span><span class='id identifier rubyid_calc_mains_temperatures'>calc_mains_temperatures</span><span class='lparen'>(</span><span class='id identifier rubyid_avgOAT'>avgOAT</span><span class='comma'>,</span> <span class='id identifier rubyid_maxDiffMonthlyAvgOAT'>maxDiffMonthlyAvgOAT</span><span class='comma'>,</span> <span class='id identifier rubyid_site'>site</span><span class='period'>.</span><span class='id identifier rubyid_latitude'>latitude</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_unit_obj_name'>unit_obj_name</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Constants.html" title="Constants (class)">Constants</a></span></span><span class='period'>.</span><span class='const'><span class='object_link'><a href="Constants.html#ObjectNameClothesWasher-class_method" title="Constants.ObjectNameClothesWasher (method)">ObjectNameClothesWasher</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_unit'>unit</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>

  <span class='comment'># Use EnergyGuide Label test data to calculate per-cycle energy and water consumption.
</span>  <span class='comment'># Calculations are based on &quot;Method for Evaluating Energy Use of Dishwashers, Clothes Washers,
</span>  <span class='comment'># and Clothes Dryers&quot; by Eastment and Hendron, Conference Paper NREL/CP-550-39769, August 2006.
</span>  <span class='comment'># Their paper is in part based on the energy use calculations  presented in the 10CFR Part 430,
</span>  <span class='comment'># Subpt. B, App. J1 (DOE 1999),
</span>  <span class='comment'># http://ecfr.gpoaccess.gov/cgi/t/text/text-idx?c=ecfr&amp;tpl=/ecfrbrowse/Title10/10cfr430_main_02.tpl
</span>
  <span class='comment'># Set the number of cycles per year for test conditions
</span>  <span class='id identifier rubyid_cycles_per_year_test'>cycles_per_year_test</span> <span class='op'>=</span> <span class='int'>392</span> <span class='comment'># (see Eastment and Hendron, NREL/CP-550-39769, 2006)
</span>
  <span class='comment'># The water heater recovery efficiency - how efficiently the heat from natural gas is transferred
</span>  <span class='comment'># to the water in the water heater. The DOE 10CFR Part 430 assumes a nominal gas water heater
</span>  <span class='comment'># recovery efficiency of 0.75.
</span>  <span class='id identifier rubyid_gas_dhw_heater_efficiency_test'>gas_dhw_heater_efficiency_test</span> <span class='op'>=</span> <span class='float'>0.75</span>

  <span class='comment'># Calculate test load weight (correlation based on data in Table 5.1 of 10CFR Part 430,
</span>  <span class='comment'># Subpt. B, App. J1, DOE 1999)
</span>  <span class='id identifier rubyid_test_load'>test_load</span> <span class='op'>=</span> <span class='float'>4.103003337</span> <span class='op'>*</span> <span class='id identifier rubyid_drum_volume'>drum_volume</span> <span class='op'>+</span> <span class='float'>0.198242492</span> <span class='comment'># lb
</span>
  <span class='comment'># Set the Hot Water Inlet Temperature for test conditions
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_test_date'>test_date</span> <span class='op'>&lt;</span> <span class='int'>2004</span>
    <span class='comment'># (see 10CFR Part 430, Subpt. B, App. J, Section 2.3, DOE 1999)
</span>    <span class='id identifier rubyid_hot_water_inlet_temperature_test'>hot_water_inlet_temperature_test</span> <span class='op'>=</span> <span class='int'>140</span> <span class='comment'># degF
</span>  <span class='kw'>elsif</span> <span class='id identifier rubyid_test_date'>test_date</span> <span class='op'>&gt;=</span> <span class='int'>2004</span>
    <span class='comment'># (see 10CFR Part 430, Subpt. B, App. J1, Section 2.3, DOE 1999)
</span>    <span class='id identifier rubyid_hot_water_inlet_temperature_test'>hot_water_inlet_temperature_test</span> <span class='op'>=</span> <span class='int'>135</span> <span class='comment'># degF
</span>  <span class='kw'>end</span>

  <span class='comment'># Set the cold water inlet temperature for test conditions (see 10CFR Part 430, Subpt. B, App. J,
</span>  <span class='comment'># Section 2.3, DOE 1999)
</span>  <span class='id identifier rubyid_cold_water_inlet_temp_test'>cold_water_inlet_temp_test</span> <span class='op'>=</span> <span class='int'>60</span> <span class='comment'># degF
</span>
  <span class='comment'># Set/calculate the hot water fraction and mixed water temperature for test conditions.
</span>  <span class='comment'># Washer varies relative amounts of hot and cold water (by opening and closing valves) to achieve
</span>  <span class='comment'># a specific wash temperature. This includes the option to simulate washers operating on cold
</span>  <span class='comment'># cycle only (cold_cycle = True). This is an operating choice for the occupant - the
</span>  <span class='comment'># washer itself was tested under normal test conditions (not cold cycle).
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_thermostatic_control'>thermostatic_control</span>
    <span class='comment'># (see p. 10 of Eastment and Hendron, NREL/CP-550-39769, 2006)
</span>    <span class='id identifier rubyid_mixed_cycle_temperature_test'>mixed_cycle_temperature_test</span> <span class='op'>=</span> <span class='float'>92.5</span> <span class='comment'># degF
</span>    <span class='comment'># (eq. 17 Eastment and Hendron, NREL/CP-550-39769, 2006)
</span>    <span class='id identifier rubyid_hot_water_vol_frac_test'>hot_water_vol_frac_test</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_mixed_cycle_temperature_test'>mixed_cycle_temperature_test</span> <span class='op'>-</span> <span class='id identifier rubyid_cold_water_inlet_temp_test'>cold_water_inlet_temp_test</span><span class='rparen'>)</span> <span class='op'>/</span>
                              <span class='lparen'>(</span><span class='id identifier rubyid_hot_water_inlet_temperature_test'>hot_water_inlet_temperature_test</span> <span class='op'>-</span> <span class='id identifier rubyid_cold_water_inlet_temp_test'>cold_water_inlet_temp_test</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='comment'># Note: if washer only has cold water supply then the following code will run and
</span>    <span class='comment'># incorrectly set the hot water fraction to 0.5. However, the code below will correctly
</span>    <span class='comment'># determine hot and cold water usage.
</span>    <span class='id identifier rubyid_hot_water_vol_frac_test'>hot_water_vol_frac_test</span> <span class='op'>=</span> <span class='float'>0.5</span>
    <span class='id identifier rubyid_mixed_cycle_temperature_test'>mixed_cycle_temperature_test</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_hot_water_inlet_temperature_test'>hot_water_inlet_temperature_test</span> <span class='op'>-</span> <span class='id identifier rubyid_cold_water_inlet_temp_test'>cold_water_inlet_temp_test</span><span class='rparen'>)</span> <span class='op'>*</span> \
                                   <span class='id identifier rubyid_hot_water_vol_frac_test'>hot_water_vol_frac_test</span> <span class='op'>+</span> <span class='id identifier rubyid_cold_water_inlet_temp_test'>cold_water_inlet_temp_test</span><span class='rparen'>)</span> <span class='comment'># degF
</span>  <span class='kw'>end</span>

  <span class='comment'># Determine the Gas use for domestic hot water per cycle for test conditions
</span>  <span class='id identifier rubyid_energy_guide_gas_cost'>energy_guide_gas_cost</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="EnergyGuideLabel.html" title="EnergyGuideLabel (class)">EnergyGuideLabel</a></span></span><span class='period'>.</span><span class='id identifier rubyid_get_energy_guide_gas_cost'><span class='object_link'><a href="EnergyGuideLabel.html#get_energy_guide_gas_cost-class_method" title="EnergyGuideLabel.get_energy_guide_gas_cost (method)">get_energy_guide_gas_cost</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_test_date'>test_date</span><span class='rparen'>)</span> <span class='op'>/</span> <span class='int'>100</span>
  <span class='id identifier rubyid_energy_guide_elec_cost'>energy_guide_elec_cost</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="EnergyGuideLabel.html" title="EnergyGuideLabel (class)">EnergyGuideLabel</a></span></span><span class='period'>.</span><span class='id identifier rubyid_get_energy_guide_elec_cost'><span class='object_link'><a href="EnergyGuideLabel.html#get_energy_guide_elec_cost-class_method" title="EnergyGuideLabel.get_energy_guide_elec_cost (method)">get_energy_guide_elec_cost</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_test_date'>test_date</span><span class='rparen'>)</span> <span class='op'>/</span> <span class='int'>100</span>

  <span class='comment'># Use the EnergyGuide Label information (eq. 4 Eastment and Hendron, NREL/CP-550-39769, 2006).
</span>  <span class='id identifier rubyid_gas_consumption_for_dhw_per_cycle_test'>gas_consumption_for_dhw_per_cycle_test</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_rated_annual_energy'>rated_annual_energy</span> <span class='op'>*</span> <span class='id identifier rubyid_energy_guide_elec_cost'>energy_guide_elec_cost</span> <span class='op'>-</span>
                                              <span class='id identifier rubyid_annual_cost'>annual_cost</span><span class='rparen'>)</span> <span class='op'>/</span>
                                              <span class='lparen'>(</span><span class='const'><span class='object_link'><a href="UnitConversions.html" title="UnitConversions (class)">UnitConversions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_convert'><span class='object_link'><a href="UnitConversions.html#convert-class_method" title="UnitConversions.convert (method)">convert</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_gas_dhw_heater_efficiency_test'>gas_dhw_heater_efficiency_test</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>therm</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>kWh</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>*</span>
                                              <span class='id identifier rubyid_energy_guide_elec_cost'>energy_guide_elec_cost</span> <span class='op'>-</span> <span class='id identifier rubyid_energy_guide_gas_cost'>energy_guide_gas_cost</span><span class='rparen'>)</span> <span class='op'>/</span>
                                              <span class='id identifier rubyid_cycles_per_year_test'>cycles_per_year_test</span><span class='rparen'>)</span> <span class='comment'># therms/cycle
</span>
  <span class='comment'># Use additional EnergyGuide Label information to determine how  much electricity was used in
</span>  <span class='comment'># the test to power the clothes washer&#39;s internal machinery (eq. 5 Eastment and Hendron,
</span>  <span class='comment'># NREL/CP-550-39769, 2006). Any energy required for internal water heating will be included
</span>  <span class='comment'># in this value.
</span>  <span class='id identifier rubyid_elec_use_per_cycle_test'>elec_use_per_cycle_test</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_rated_annual_energy'>rated_annual_energy</span> <span class='op'>/</span> <span class='id identifier rubyid_cycles_per_year_test'>cycles_per_year_test</span> <span class='op'>-</span>
                               <span class='id identifier rubyid_gas_consumption_for_dhw_per_cycle_test'>gas_consumption_for_dhw_per_cycle_test</span> <span class='op'>*</span>
                               <span class='const'><span class='object_link'><a href="UnitConversions.html" title="UnitConversions (class)">UnitConversions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_convert'><span class='object_link'><a href="UnitConversions.html#convert-class_method" title="UnitConversions.convert (method)">convert</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_gas_dhw_heater_efficiency_test'>gas_dhw_heater_efficiency_test</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>therm</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>kWh</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='comment'># kWh/cycle
</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_test_date'>test_date</span> <span class='op'>&lt;</span> <span class='int'>2004</span>
    <span class='comment'># (see 10CFR Part 430, Subpt. B, App. J, Section 4.1.2, DOE 1999)
</span>    <span class='id identifier rubyid_dhw_deltaT_test'>dhw_deltaT_test</span> <span class='op'>=</span> <span class='int'>90</span>
  <span class='kw'>else</span>
    <span class='comment'># (see 10CFR Part 430, Subpt. B, App. J1, Section 4.1.2, DOE 1999)
</span>    <span class='id identifier rubyid_dhw_deltaT_test'>dhw_deltaT_test</span> <span class='op'>=</span> <span class='int'>75</span>
  <span class='kw'>end</span>

  <span class='comment'># Determine how much hot water was used in the test based on the amount of gas used in the
</span>  <span class='comment'># test to heat the water and the temperature rise in the water heater in the test (eq. 6
</span>  <span class='comment'># Eastment and Hendron, NREL/CP-550-39769, 2006).
</span>  <span class='id identifier rubyid_water_dens'>water_dens</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Liquid.html" title="Liquid (class)">Liquid</a></span></span><span class='period'>.</span><span class='const'><span class='object_link'><a href="Liquid.html#H2O_l-class_method" title="Liquid.H2O_l (method)">H2O_l</a></span></span><span class='period'>.</span><span class='id identifier rubyid_rho'>rho</span> <span class='comment'># lbm/ft^3
</span>  <span class='id identifier rubyid_water_sh'>water_sh</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Liquid.html" title="Liquid (class)">Liquid</a></span></span><span class='period'>.</span><span class='const'><span class='object_link'><a href="Liquid.html#H2O_l-class_method" title="Liquid.H2O_l (method)">H2O_l</a></span></span><span class='period'>.</span><span class='id identifier rubyid_cp'>cp</span> <span class='comment'># Btu/lbm-R
</span>  <span class='id identifier rubyid_dhw_use_per_cycle_test'>dhw_use_per_cycle_test</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="UnitConversions.html" title="UnitConversions (class)">UnitConversions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_convert'><span class='object_link'><a href="UnitConversions.html#convert-class_method" title="UnitConversions.convert (method)">convert</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_gas_consumption_for_dhw_per_cycle_test'>gas_consumption_for_dhw_per_cycle_test</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>therm</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>kWh</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>*</span>
                              <span class='id identifier rubyid_gas_dhw_heater_efficiency_test'>gas_dhw_heater_efficiency_test</span><span class='rparen'>)</span> <span class='op'>/</span> <span class='lparen'>(</span><span class='id identifier rubyid_dhw_deltaT_test'>dhw_deltaT_test</span> <span class='op'>*</span>
                              <span class='id identifier rubyid_water_dens'>water_dens</span> <span class='op'>*</span> <span class='id identifier rubyid_water_sh'>water_sh</span> <span class='op'>*</span> <span class='const'><span class='object_link'><a href="UnitConversions.html" title="UnitConversions (class)">UnitConversions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_convert'><span class='object_link'><a href="UnitConversions.html#convert-class_method" title="UnitConversions.convert (method)">convert</a></span></span><span class='lparen'>(</span><span class='float'>1.0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Btu</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>kWh</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>/</span> <span class='const'><span class='object_link'><a href="UnitConversions.html" title="UnitConversions (class)">UnitConversions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_convert'><span class='object_link'><a href="UnitConversions.html#convert-class_method" title="UnitConversions.convert (method)">convert</a></span></span><span class='lparen'>(</span><span class='float'>1.0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ft^3</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gal</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_fill_sensor'>fill_sensor</span> <span class='kw'>and</span> <span class='id identifier rubyid_test_date'>test_date</span> <span class='op'>&lt;</span> <span class='int'>2004</span>
    <span class='comment'># For vertical axis washers that are sensor-filled, use a multiplying factor of 0.94
</span>    <span class='comment'># (see 10CFR Part 430, Subpt. B, App. J, Section 4.1.2, DOE 1999)
</span>    <span class='id identifier rubyid_dhw_use_per_cycle_test'>dhw_use_per_cycle_test</span> <span class='op'>=</span> <span class='id identifier rubyid_dhw_use_per_cycle_test'>dhw_use_per_cycle_test</span> <span class='op'>/</span> <span class='float'>0.94</span>
  <span class='kw'>end</span>

  <span class='comment'># Calculate total per-cycle usage of water (combined from hot and cold supply).
</span>  <span class='comment'># Note that the actual total amount of water used per cycle is assumed to be the same as
</span>  <span class='comment'># the total amount of water used per cycle in the test. Under actual conditions, however,
</span>  <span class='comment'># the ratio of hot and cold water can vary with thermostatic control (see below).
</span>  <span class='id identifier rubyid_actual_total_per_cycle_water_use'>actual_total_per_cycle_water_use</span> <span class='op'>=</span> <span class='id identifier rubyid_dhw_use_per_cycle_test'>dhw_use_per_cycle_test</span> <span class='op'>/</span> <span class='id identifier rubyid_hot_water_vol_frac_test'>hot_water_vol_frac_test</span> <span class='comment'># gal/cycle
</span>
  <span class='comment'># Set actual clothes washer water temperature for calculations below.
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_cold_cycle'>cold_cycle</span>
    <span class='comment'># To model occupant behavior of using only a cold cycle.
</span>    <span class='id identifier rubyid_water_temp'>water_temp</span> <span class='op'>=</span> <span class='id identifier rubyid_mains_temps'>mains_temps</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='symbol'>:+</span><span class='rparen'>)</span> <span class='op'>/</span> <span class='int'>12</span> <span class='comment'># degF
</span>  <span class='kw'>elsif</span> <span class='id identifier rubyid_thermostatic_control'>thermostatic_control</span>
    <span class='comment'># Washer is being operated &quot;normally&quot; - at the same temperature as in the test.
</span>    <span class='id identifier rubyid_water_temp'>water_temp</span> <span class='op'>=</span> <span class='id identifier rubyid_mixed_cycle_temperature_test'>mixed_cycle_temperature_test</span> <span class='comment'># degF
</span>  <span class='kw'>else</span>
    <span class='id identifier rubyid_water_temp'>water_temp</span> <span class='op'>=</span> <span class='id identifier rubyid_wh_setpoint'>wh_setpoint</span> <span class='comment'># degF
</span>  <span class='kw'>end</span>

  <span class='comment'># (eq. 14 Eastment and Hendron, NREL/CP-550-39769, 2006)
</span>  <span class='id identifier rubyid_actual_cycles_per_year'>actual_cycles_per_year</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_cycles_per_year_test'>cycles_per_year_test</span> <span class='op'>*</span> <span class='lparen'>(</span><span class='float'>0.5</span> <span class='op'>+</span> <span class='id identifier rubyid_nbeds'>nbeds</span> <span class='op'>/</span> <span class='int'>6</span><span class='rparen'>)</span> <span class='op'>*</span>
                              <span class='lparen'>(</span><span class='float'>12.5</span> <span class='op'>/</span> <span class='id identifier rubyid_test_load'>test_load</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='comment'># cycles/year
</span>
  <span class='id identifier rubyid_total_daily_water_use'>total_daily_water_use</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_actual_total_per_cycle_water_use'>actual_total_per_cycle_water_use</span> <span class='op'>*</span> <span class='id identifier rubyid_actual_cycles_per_year'>actual_cycles_per_year</span> <span class='op'>/</span>
                             <span class='int'>365</span><span class='rparen'>)</span> <span class='comment'># gal/day
</span>
  <span class='comment'># Calculate actual DHW use and elecricity use.
</span>  <span class='comment'># First calculate per-cycle usages.
</span>  <span class='comment'>#    If the clothes washer has thermostatic control, then the test per-cycle DHW usage
</span>  <span class='comment'>#    amounts will have to be adjusted (up or down) to account for differences between
</span>  <span class='comment'>#    actual water supply temperatures and test conditions. If the clothes washer has
</span>  <span class='comment'>#    an internal heater, then the test per-cycle electricity usage amounts will have to
</span>  <span class='comment'>#    be adjusted (up or down) to account for differences between actual water supply
</span>  <span class='comment'>#    temperatures and hot water amounts and test conditions.
</span>  <span class='comment'># The calculations are done on a monthly basis to reflect monthly variations in TMains
</span>  <span class='comment'># temperatures. Per-cycle amounts are then used to calculate monthly amounts and finally
</span>  <span class='comment'># daily amounts.
</span>
  <span class='id identifier rubyid_monthly_dhw'>monthly_dhw</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>12</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_monthly_energy'>monthly_energy</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>12</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_mains_temps'>mains_temps</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_monthly_main'>monthly_main</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
    <span class='comment'># Adjust per-cycle DHW amount.
</span>    <span class='kw'>if</span> <span class='id identifier rubyid_thermostatic_control'>thermostatic_control</span>
      <span class='comment'># If the washer has thermostatic control then its use of DHW will vary as the
</span>      <span class='comment'># cold and hot water supply temperatures vary.
</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_cold_cycle'>cold_cycle</span> <span class='kw'>and</span> <span class='id identifier rubyid_monthly_main'>monthly_main</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_water_temp'>water_temp</span>
        <span class='comment'># In this special case, the washer uses only a cold cycle and the TMains
</span>        <span class='comment'># temperature exceeds the desired cold cycle temperature. In this case, no
</span>        <span class='comment'># DHW will be used (the adjustment is -100%). A special calculation is
</span>        <span class='comment'># needed here since the formula for the general case (below) would imply
</span>        <span class='comment'># that a negative volume of DHW is used.
</span>        <span class='id identifier rubyid_dhw_use_per_cycle_adjustment'>dhw_use_per_cycle_adjustment</span> <span class='op'>=</span> <span class='op'>-</span><span class='int'>1</span> <span class='op'>*</span> <span class='id identifier rubyid_dhw_use_per_cycle_test'>dhw_use_per_cycle_test</span> <span class='comment'># gal/cycle
</span>
      <span class='kw'>else</span>
        <span class='comment'># With thermostatic control, the washer will adjust the amount of hot water
</span>        <span class='comment'># when either the hot water or cold water supply temperatures vary (eq. 18
</span>        <span class='comment'># Eastment and Hendron, NREL/CP-550-39769, 2006).
</span>        <span class='id identifier rubyid_dhw_use_per_cycle_adjustment'>dhw_use_per_cycle_adjustment</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_dhw_use_per_cycle_test'>dhw_use_per_cycle_test</span> <span class='op'>*</span>
                                          <span class='lparen'>(</span><span class='lparen'>(</span><span class='int'>1</span> <span class='op'>/</span> <span class='id identifier rubyid_hot_water_vol_frac_test'>hot_water_vol_frac_test</span><span class='rparen'>)</span> <span class='op'>*</span>
                                          <span class='lparen'>(</span><span class='id identifier rubyid_water_temp'>water_temp</span> <span class='op'>-</span> <span class='id identifier rubyid_monthly_main'>monthly_main</span><span class='rparen'>)</span> <span class='op'>+</span>
                                          <span class='id identifier rubyid_monthly_main'>monthly_main</span> <span class='op'>-</span> <span class='id identifier rubyid_wh_setpoint'>wh_setpoint</span><span class='rparen'>)</span> <span class='op'>/</span>
                                          <span class='lparen'>(</span><span class='id identifier rubyid_wh_setpoint'>wh_setpoint</span> <span class='op'>-</span> <span class='id identifier rubyid_monthly_main'>monthly_main</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='comment'># gal/cycle
</span>
      <span class='kw'>end</span>

    <span class='kw'>else</span>
      <span class='comment'># Without thermostatic control, the washer will not adjust the amount of hot water.
</span>      <span class='id identifier rubyid_dhw_use_per_cycle_adjustment'>dhw_use_per_cycle_adjustment</span> <span class='op'>=</span> <span class='int'>0</span> <span class='comment'># gal/cycle
</span>    <span class='kw'>end</span>

    <span class='comment'># Calculate actual water usage amounts for the current month in the loop.
</span>    <span class='id identifier rubyid_actual_dhw_use_per_cycle'>actual_dhw_use_per_cycle</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_dhw_use_per_cycle_test'>dhw_use_per_cycle_test</span> <span class='op'>+</span>
                                  <span class='id identifier rubyid_dhw_use_per_cycle_adjustment'>dhw_use_per_cycle_adjustment</span><span class='rparen'>)</span> <span class='comment'># gal/cycle
</span>
    <span class='comment'># Adjust per-cycle electricity amount.
</span>    <span class='kw'>if</span> <span class='id identifier rubyid_internal_heater'>internal_heater</span>
      <span class='comment'># If the washer heats the water internally, then its use of electricity will vary
</span>      <span class='comment'># as the cold and hot water supply temperatures vary.
</span>
      <span class='comment'># Calculate cold water usage per cycle to facilitate calculation of electricity
</span>      <span class='comment'># usage below.
</span>      <span class='id identifier rubyid_actual_cold_water_use_per_cycle'>actual_cold_water_use_per_cycle</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_actual_total_per_cycle_water_use'>actual_total_per_cycle_water_use</span> <span class='op'>-</span>
                                           <span class='id identifier rubyid_actual_dhw_use_per_cycle'>actual_dhw_use_per_cycle</span><span class='rparen'>)</span> <span class='comment'># gal/cycle
</span>
      <span class='comment'># With an internal heater, the washer will adjust its heating (up or down) when
</span>      <span class='comment'># actual conditions differ from test conditions according to the following three
</span>      <span class='comment'># equations. Compensation for changes in sensible heat due to:
</span>      <span class='comment'># 1) a difference in hot water supply temperatures and
</span>      <span class='comment'># 2) a difference in cold water supply temperatures
</span>      <span class='comment'># (modified version of eq. 20 Eastment and Hendron, NREL/CP-550-39769, 2006).
</span>      <span class='id identifier rubyid_elec_use_per_cycle_adjustment_supply_temps'>elec_use_per_cycle_adjustment_supply_temps</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_actual_dhw_use_per_cycle'>actual_dhw_use_per_cycle</span> <span class='op'>*</span>
                                                      <span class='lparen'>(</span><span class='id identifier rubyid_hot_water_inlet_temperature_test'>hot_water_inlet_temperature_test</span> <span class='op'>-</span>
                                                      <span class='id identifier rubyid_wh_setpoint'>wh_setpoint</span><span class='rparen'>)</span> <span class='op'>+</span>
                                                      <span class='id identifier rubyid_actual_cold_water_use_per_cycle'>actual_cold_water_use_per_cycle</span> <span class='op'>*</span>
                                                      <span class='lparen'>(</span><span class='id identifier rubyid_cold_water_inlet_temp_test'>cold_water_inlet_temp_test</span> <span class='op'>-</span>
                                                      <span class='id identifier rubyid_monthly_main'>monthly_main</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='op'>*</span>
                                                      <span class='lparen'>(</span><span class='id identifier rubyid_water_dens'>water_dens</span> <span class='op'>*</span> <span class='id identifier rubyid_water_sh'>water_sh</span> <span class='op'>*</span>
                                                      <span class='const'><span class='object_link'><a href="UnitConversions.html" title="UnitConversions (class)">UnitConversions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_convert'><span class='object_link'><a href="UnitConversions.html#convert-class_method" title="UnitConversions.convert (method)">convert</a></span></span><span class='lparen'>(</span><span class='float'>1.0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Btu</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>kWh</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>/</span>
                                                      <span class='const'><span class='object_link'><a href="UnitConversions.html" title="UnitConversions (class)">UnitConversions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_convert'><span class='object_link'><a href="UnitConversions.html#convert-class_method" title="UnitConversions.convert (method)">convert</a></span></span><span class='lparen'>(</span><span class='float'>1.0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ft^3</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gal</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='comment'># kWh/cycle
</span>
      <span class='comment'># Compensation for the change in sensible heat due to a difference in hot water
</span>      <span class='comment'># amounts due to thermostatic control.
</span>      <span class='id identifier rubyid_elec_use_per_cycle_adjustment_hot_water_amount'>elec_use_per_cycle_adjustment_hot_water_amount</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_dhw_use_per_cycle_adjustment'>dhw_use_per_cycle_adjustment</span> <span class='op'>*</span>
                                                          <span class='lparen'>(</span><span class='id identifier rubyid_cold_water_inlet_temp_test'>cold_water_inlet_temp_test</span> <span class='op'>-</span>
                                                          <span class='id identifier rubyid_hot_water_inlet_temperature_test'>hot_water_inlet_temperature_test</span><span class='rparen'>)</span> <span class='op'>*</span>
                                                          <span class='lparen'>(</span><span class='id identifier rubyid_water_dens'>water_dens</span> <span class='op'>*</span> <span class='id identifier rubyid_water_sh'>water_sh</span> <span class='op'>*</span>
                                                          <span class='const'><span class='object_link'><a href="UnitConversions.html" title="UnitConversions (class)">UnitConversions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_convert'><span class='object_link'><a href="UnitConversions.html#convert-class_method" title="UnitConversions.convert (method)">convert</a></span></span><span class='lparen'>(</span><span class='float'>1.0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Btu</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>kWh</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>/</span>
                                                          <span class='const'><span class='object_link'><a href="UnitConversions.html" title="UnitConversions (class)">UnitConversions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_convert'><span class='object_link'><a href="UnitConversions.html#convert-class_method" title="UnitConversions.convert (method)">convert</a></span></span><span class='lparen'>(</span><span class='float'>1.0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ft^3</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gal</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='comment'># kWh/cycle
</span>
      <span class='comment'># Compensation for the change in sensible heat due to a difference in operating
</span>      <span class='comment'># temperature vs. test temperature (applies only to cold cycle only).
</span>      <span class='comment'># Note: This adjustment can result in the calculation of zero electricity use
</span>      <span class='comment'># per cycle below. This would not be correct (the washer will always use some
</span>      <span class='comment'># electricity to operate). However, if the washer has an internal heater, it is
</span>      <span class='comment'># not possible to determine how much of the electricity was  used for internal
</span>      <span class='comment'># heating of water and how much for other machine operations.
</span>      <span class='id identifier rubyid_elec_use_per_cycle_adjustment_operating_temp'>elec_use_per_cycle_adjustment_operating_temp</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_actual_total_per_cycle_water_use'>actual_total_per_cycle_water_use</span> <span class='op'>*</span>
                                                        <span class='lparen'>(</span><span class='id identifier rubyid_water_temp'>water_temp</span> <span class='op'>-</span> <span class='id identifier rubyid_mixed_cycle_temperature_test'>mixed_cycle_temperature_test</span><span class='rparen'>)</span> <span class='op'>*</span>
                                                        <span class='lparen'>(</span><span class='id identifier rubyid_water_dens'>water_dens</span> <span class='op'>*</span> <span class='id identifier rubyid_water_sh'>water_sh</span> <span class='op'>*</span>
                                                        <span class='const'><span class='object_link'><a href="UnitConversions.html" title="UnitConversions (class)">UnitConversions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_convert'><span class='object_link'><a href="UnitConversions.html#convert-class_method" title="UnitConversions.convert (method)">convert</a></span></span><span class='lparen'>(</span><span class='float'>1.0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Btu</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>kWh</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>/</span>
                                                        <span class='const'><span class='object_link'><a href="UnitConversions.html" title="UnitConversions (class)">UnitConversions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_convert'><span class='object_link'><a href="UnitConversions.html#convert-class_method" title="UnitConversions.convert (method)">convert</a></span></span><span class='lparen'>(</span><span class='float'>1.0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ft^3</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gal</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='comment'># kWh/cycle
</span>
      <span class='comment'># Sum the three adjustments above
</span>      <span class='id identifier rubyid_elec_use_per_cycle_adjustment'>elec_use_per_cycle_adjustment</span> <span class='op'>=</span> <span class='id identifier rubyid_elec_use_per_cycle_adjustment_supply_temps'>elec_use_per_cycle_adjustment_supply_temps</span> <span class='op'>+</span>
                                      <span class='id identifier rubyid_elec_use_per_cycle_adjustment_hot_water_amount'>elec_use_per_cycle_adjustment_hot_water_amount</span> <span class='op'>+</span>
                                      <span class='id identifier rubyid_elec_use_per_cycle_adjustment_operating_temp'>elec_use_per_cycle_adjustment_operating_temp</span>

    <span class='kw'>else</span>

      <span class='id identifier rubyid_elec_use_per_cycle_adjustment'>elec_use_per_cycle_adjustment</span> <span class='op'>=</span> <span class='int'>0</span> <span class='comment'># kWh/cycle
</span>
    <span class='kw'>end</span>

    <span class='comment'># Calculate actual electricity usage amount for the current month in the loop.
</span>    <span class='id identifier rubyid_actual_elec_use_per_cycle'>actual_elec_use_per_cycle</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_elec_use_per_cycle_test'>elec_use_per_cycle_test</span> <span class='op'>+</span>
                                   <span class='id identifier rubyid_elec_use_per_cycle_adjustment'>elec_use_per_cycle_adjustment</span><span class='rparen'>)</span> <span class='comment'># kWh/cycle
</span>
    <span class='comment'># Do not allow negative electricity use
</span>    <span class='kw'>if</span> <span class='id identifier rubyid_actual_elec_use_per_cycle'>actual_elec_use_per_cycle</span> <span class='op'>&lt;</span> <span class='int'>0</span>
      <span class='id identifier rubyid_actual_elec_use_per_cycle'>actual_elec_use_per_cycle</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='kw'>end</span>

    <span class='comment'># Calculate monthly totals
</span>    <span class='id identifier rubyid_monthly_dhw'>monthly_dhw</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_actual_dhw_use_per_cycle'>actual_dhw_use_per_cycle</span> <span class='op'>*</span>
                       <span class='id identifier rubyid_actual_cycles_per_year'>actual_cycles_per_year</span> <span class='op'>*</span>
                       <span class='const'><span class='object_link'><a href="Constants.html" title="Constants (class)">Constants</a></span></span><span class='period'>.</span><span class='const'><span class='object_link'><a href="Constants.html#MonthNumDays-class_method" title="Constants.MonthNumDays (method)">MonthNumDays</a></span></span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>/</span> <span class='int'>365</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='comment'># gal/month
</span>    <span class='id identifier rubyid_monthly_energy'>monthly_energy</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_actual_elec_use_per_cycle'>actual_elec_use_per_cycle</span> <span class='op'>*</span>
                          <span class='id identifier rubyid_actual_cycles_per_year'>actual_cycles_per_year</span> <span class='op'>*</span>
                          <span class='const'><span class='object_link'><a href="Constants.html" title="Constants (class)">Constants</a></span></span><span class='period'>.</span><span class='const'><span class='object_link'><a href="Constants.html#MonthNumDays-class_method" title="Constants.MonthNumDays (method)">MonthNumDays</a></span></span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>/</span> <span class='int'>365</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='comment'># kWh/month
</span>  <span class='kw'>end</span>

  <span class='id identifier rubyid_daily_energy'>daily_energy</span> <span class='op'>=</span> <span class='id identifier rubyid_monthly_energy'>monthly_energy</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='symbol'>:+</span><span class='rparen'>)</span> <span class='op'>/</span> <span class='int'>365</span>

  <span class='id identifier rubyid_daily_energy'>daily_energy</span> <span class='op'>=</span> <span class='id identifier rubyid_daily_energy'>daily_energy</span> <span class='op'>*</span> <span class='id identifier rubyid_mult_e'>mult_e</span>
  <span class='id identifier rubyid_total_daily_water_use'>total_daily_water_use</span> <span class='op'>=</span> <span class='id identifier rubyid_total_daily_water_use'>total_daily_water_use</span> <span class='op'>*</span> <span class='id identifier rubyid_mult_hw'>mult_hw</span>

  <span class='id identifier rubyid_ann_e'>ann_e</span> <span class='op'>=</span> <span class='id identifier rubyid_daily_energy'>daily_energy</span> <span class='op'>*</span> <span class='int'>365</span>

  <span class='id identifier rubyid_cd_updated'>cd_updated</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_ann_e'>ann_e</span> <span class='op'>&gt;</span> <span class='int'>0</span>

    <span class='comment'># Create schedule
</span>    <span class='id identifier rubyid_sch'>sch</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="HotWaterSchedule.html" title="HotWaterSchedule (class)">HotWaterSchedule</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="HotWaterSchedule.html#initialize-instance_method" title="HotWaterSchedule#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_runner'>runner</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="Constants.html" title="Constants (class)">Constants</a></span></span><span class='period'>.</span><span class='const'><span class='object_link'><a href="Constants.html#ObjectNameClothesWasher-class_method" title="Constants.ObjectNameClothesWasher (method)">ObjectNameClothesWasher</a></span></span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> schedule</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                               <span class='const'><span class='object_link'><a href="Constants.html" title="Constants (class)">Constants</a></span></span><span class='period'>.</span><span class='const'><span class='object_link'><a href="Constants.html#ObjectNameClothesWasher-class_method" title="Constants.ObjectNameClothesWasher (method)">ObjectNameClothesWasher</a></span></span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> temperature schedule</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                               <span class='id identifier rubyid_nbeds'>nbeds</span><span class='comma'>,</span> <span class='id identifier rubyid_d_sh'>d_sh</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ClothesWasher</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_water_temp'>water_temp</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_sch'>sch</span><span class='period'>.</span><span class='id identifier rubyid_validated?'>validated?</span>
      <span class='kw'>return</span> <span class='kw'>false</span>
    <span class='kw'>end</span>

    <span class='comment'># Reuse existing water use connection if possible
</span>    <span class='id identifier rubyid_water_use_connection'>water_use_connection</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_plant_loop'>plant_loop</span><span class='period'>.</span><span class='id identifier rubyid_demandComponents'>demandComponents</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component'>component</span><span class='op'>|</span>
      <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_component'>component</span><span class='period'>.</span><span class='id identifier rubyid_to_WaterUseConnections'>to_WaterUseConnections</span><span class='period'>.</span><span class='id identifier rubyid_is_initialized'>is_initialized</span>

      <span class='id identifier rubyid_water_use_connection'>water_use_connection</span> <span class='op'>=</span> <span class='id identifier rubyid_component'>component</span><span class='period'>.</span><span class='id identifier rubyid_to_WaterUseConnections'>to_WaterUseConnections</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span>
      <span class='kw'>break</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_water_use_connection'>water_use_connection</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='comment'># Need new water heater connection
</span>      <span class='id identifier rubyid_water_use_connection'>water_use_connection</span> <span class='op'>=</span> <span class='const'>OpenStudio</span><span class='op'>::</span><span class='const'>Model</span><span class='op'>::</span><span class='const'>WaterUseConnections</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_plant_loop'>plant_loop</span><span class='period'>.</span><span class='id identifier rubyid_addDemandBranchForComponent'>addDemandBranchForComponent</span><span class='lparen'>(</span><span class='id identifier rubyid_water_use_connection'>water_use_connection</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_design_level'>design_level</span> <span class='op'>=</span> <span class='id identifier rubyid_sch'>sch</span><span class='period'>.</span><span class='id identifier rubyid_calcDesignLevelFromDailykWh'>calcDesignLevelFromDailykWh</span><span class='lparen'>(</span><span class='id identifier rubyid_daily_energy'>daily_energy</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_peak_flow'>peak_flow</span> <span class='op'>=</span> <span class='id identifier rubyid_sch'>sch</span><span class='period'>.</span><span class='id identifier rubyid_calcPeakFlowFromDailygpm'>calcPeakFlowFromDailygpm</span><span class='lparen'>(</span><span class='id identifier rubyid_total_daily_water_use'>total_daily_water_use</span><span class='rparen'>)</span>

    <span class='comment'># Add equipment for the cw
</span>    <span class='id identifier rubyid_cw_def'>cw_def</span> <span class='op'>=</span> <span class='const'>OpenStudio</span><span class='op'>::</span><span class='const'>Model</span><span class='op'>::</span><span class='const'>ElectricEquipmentDefinition</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cw'>cw</span> <span class='op'>=</span> <span class='const'>OpenStudio</span><span class='op'>::</span><span class='const'>Model</span><span class='op'>::</span><span class='const'>ElectricEquipment</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_cw_def'>cw_def</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cw'>cw</span><span class='period'>.</span><span class='id identifier rubyid_setName'>setName</span><span class='lparen'>(</span><span class='id identifier rubyid_unit_obj_name'>unit_obj_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cw'>cw</span><span class='period'>.</span><span class='id identifier rubyid_setEndUseSubcategory'>setEndUseSubcategory</span><span class='lparen'>(</span><span class='id identifier rubyid_unit_obj_name'>unit_obj_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cw'>cw</span><span class='period'>.</span><span class='id identifier rubyid_setSpace'>setSpace</span><span class='lparen'>(</span><span class='id identifier rubyid_space'>space</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cw_def'>cw_def</span><span class='period'>.</span><span class='id identifier rubyid_setName'>setName</span><span class='lparen'>(</span><span class='id identifier rubyid_unit_obj_name'>unit_obj_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cw_def'>cw_def</span><span class='period'>.</span><span class='id identifier rubyid_setDesignLevel'>setDesignLevel</span><span class='lparen'>(</span><span class='id identifier rubyid_design_level'>design_level</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cw_def'>cw_def</span><span class='period'>.</span><span class='id identifier rubyid_setFractionRadiant'>setFractionRadiant</span><span class='lparen'>(</span><span class='float'>0.48</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cw_def'>cw_def</span><span class='period'>.</span><span class='id identifier rubyid_setFractionLatent'>setFractionLatent</span><span class='lparen'>(</span><span class='float'>0.0</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cw_def'>cw_def</span><span class='period'>.</span><span class='id identifier rubyid_setFractionLost'>setFractionLost</span><span class='lparen'>(</span><span class='float'>0.2</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cw'>cw</span><span class='period'>.</span><span class='id identifier rubyid_setSchedule'>setSchedule</span><span class='lparen'>(</span><span class='id identifier rubyid_sch'>sch</span><span class='period'>.</span><span class='id identifier rubyid_schedule'>schedule</span><span class='rparen'>)</span>

    <span class='comment'># Add water use equipment for the dw
</span>    <span class='id identifier rubyid_cw_def2'>cw_def2</span> <span class='op'>=</span> <span class='const'>OpenStudio</span><span class='op'>::</span><span class='const'>Model</span><span class='op'>::</span><span class='const'>WaterUseEquipmentDefinition</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cw2'>cw2</span> <span class='op'>=</span> <span class='const'>OpenStudio</span><span class='op'>::</span><span class='const'>Model</span><span class='op'>::</span><span class='const'>WaterUseEquipment</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_cw_def2'>cw_def2</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cw2'>cw2</span><span class='period'>.</span><span class='id identifier rubyid_setName'>setName</span><span class='lparen'>(</span><span class='id identifier rubyid_unit_obj_name'>unit_obj_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cw2'>cw2</span><span class='period'>.</span><span class='id identifier rubyid_setSpace'>setSpace</span><span class='lparen'>(</span><span class='id identifier rubyid_space'>space</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cw_def2'>cw_def2</span><span class='period'>.</span><span class='id identifier rubyid_setName'>setName</span><span class='lparen'>(</span><span class='id identifier rubyid_unit_obj_name'>unit_obj_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cw_def2'>cw_def2</span><span class='period'>.</span><span class='id identifier rubyid_setPeakFlowRate'>setPeakFlowRate</span><span class='lparen'>(</span><span class='id identifier rubyid_peak_flow'>peak_flow</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cw_def2'>cw_def2</span><span class='period'>.</span><span class='id identifier rubyid_setEndUseSubcategory'>setEndUseSubcategory</span><span class='lparen'>(</span><span class='id identifier rubyid_unit_obj_name'>unit_obj_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cw2'>cw2</span><span class='period'>.</span><span class='id identifier rubyid_setFlowRateFractionSchedule'>setFlowRateFractionSchedule</span><span class='lparen'>(</span><span class='id identifier rubyid_sch'>sch</span><span class='period'>.</span><span class='id identifier rubyid_schedule'>schedule</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cw_def2'>cw_def2</span><span class='period'>.</span><span class='id identifier rubyid_setTargetTemperatureSchedule'>setTargetTemperatureSchedule</span><span class='lparen'>(</span><span class='id identifier rubyid_sch'>sch</span><span class='period'>.</span><span class='id identifier rubyid_temperatureSchedule'>temperatureSchedule</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_water_use_connection'>water_use_connection</span><span class='period'>.</span><span class='id identifier rubyid_addWaterUseEquipment'>addWaterUseEquipment</span><span class='lparen'>(</span><span class='id identifier rubyid_cw2'>cw2</span><span class='rparen'>)</span>

    <span class='comment'># Store some info for Clothes Dryer measures
</span>    <span class='id identifier rubyid_cw'>cw</span><span class='period'>.</span><span class='id identifier rubyid_additionalProperties'>additionalProperties</span><span class='period'>.</span><span class='id identifier rubyid_setFeature'>setFeature</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Constants.html" title="Constants (class)">Constants</a></span></span><span class='period'>.</span><span class='const'><span class='object_link'><a href="Constants.html#ClothesWasherIMEF-class_method" title="Constants.ClothesWasherIMEF (method)">ClothesWasherIMEF</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_imef'>imef</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cw'>cw</span><span class='period'>.</span><span class='id identifier rubyid_additionalProperties'>additionalProperties</span><span class='period'>.</span><span class='id identifier rubyid_setFeature'>setFeature</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Constants.html" title="Constants (class)">Constants</a></span></span><span class='period'>.</span><span class='const'><span class='object_link'><a href="Constants.html#ClothesWasherRatedAnnualEnergy-class_method" title="Constants.ClothesWasherRatedAnnualEnergy (method)">ClothesWasherRatedAnnualEnergy</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_rated_annual_energy'>rated_annual_energy</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cw'>cw</span><span class='period'>.</span><span class='id identifier rubyid_additionalProperties'>additionalProperties</span><span class='period'>.</span><span class='id identifier rubyid_setFeature'>setFeature</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Constants.html" title="Constants (class)">Constants</a></span></span><span class='period'>.</span><span class='const'><span class='object_link'><a href="Constants.html#ClothesWasherDrumVolume-class_method" title="Constants.ClothesWasherDrumVolume (method)">ClothesWasherDrumVolume</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_drum_volume'>drum_volume</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cw'>cw</span><span class='period'>.</span><span class='id identifier rubyid_additionalProperties'>additionalProperties</span><span class='period'>.</span><span class='id identifier rubyid_setFeature'>setFeature</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Constants.html" title="Constants (class)">Constants</a></span></span><span class='period'>.</span><span class='const'><span class='object_link'><a href="Constants.html#ClothesWasherDayShift-class_method" title="Constants.ClothesWasherDayShift (method)">ClothesWasherDayShift</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_d_sh'>d_sh</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span><span class='rparen'>)</span>

    <span class='comment'># Check if there&#39;s a clothes dryer that needs to be updated
</span>    <span class='id identifier rubyid_cd_unit_obj_name'>cd_unit_obj_name</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Constants.html" title="Constants (class)">Constants</a></span></span><span class='period'>.</span><span class='const'><span class='object_link'><a href="Constants.html#ObjectNameClothesDryer-class_method" title="Constants.ObjectNameClothesDryer (method)">ObjectNameClothesDryer</a></span></span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cd'>cd</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_getElectricEquipments'>getElectricEquipments</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ee'>ee</span><span class='op'>|</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_ee'>ee</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span> <span class='id identifier rubyid_cd_unit_obj_name'>cd_unit_obj_name</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_unit'>unit</span><span class='period'>.</span><span class='id identifier rubyid_spaces'>spaces</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_ee'>ee</span><span class='period'>.</span><span class='id identifier rubyid_space'>space</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span>

      <span class='id identifier rubyid_cd'>cd</span> <span class='op'>=</span> <span class='id identifier rubyid_ee'>ee</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_getOtherEquipments'>getOtherEquipments</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_oe'>oe</span><span class='op'>|</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_oe'>oe</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span> <span class='id identifier rubyid_cd_unit_obj_name'>cd_unit_obj_name</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_unit'>unit</span><span class='period'>.</span><span class='id identifier rubyid_spaces'>spaces</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_oe'>oe</span><span class='period'>.</span><span class='id identifier rubyid_space'>space</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span>

      <span class='id identifier rubyid_cd'>cd</span> <span class='op'>=</span> <span class='id identifier rubyid_oe'>oe</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_cd'>cd</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

      <span class='comment'># Get clothes dryer properties
</span>      <span class='id identifier rubyid_cd_cef'>cd_cef</span> <span class='op'>=</span> <span class='id identifier rubyid_cd'>cd</span><span class='period'>.</span><span class='id identifier rubyid_additionalProperties'>additionalProperties</span><span class='period'>.</span><span class='id identifier rubyid_getFeatureAsDouble'>getFeatureAsDouble</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Constants.html" title="Constants (class)">Constants</a></span></span><span class='period'>.</span><span class='const'><span class='object_link'><a href="Constants.html#ClothesDryerCEF-class_method" title="Constants.ClothesDryerCEF (method)">ClothesDryerCEF</a></span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_cd_mult'>cd_mult</span> <span class='op'>=</span> <span class='id identifier rubyid_cd'>cd</span><span class='period'>.</span><span class='id identifier rubyid_additionalProperties'>additionalProperties</span><span class='period'>.</span><span class='id identifier rubyid_getFeatureAsDouble'>getFeatureAsDouble</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Constants.html" title="Constants (class)">Constants</a></span></span><span class='period'>.</span><span class='const'><span class='object_link'><a href="Constants.html#ClothesDryerMult-class_method" title="Constants.ClothesDryerMult (method)">ClothesDryerMult</a></span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_cd_fuel_type'>cd_fuel_type</span> <span class='op'>=</span> <span class='id identifier rubyid_cd'>cd</span><span class='period'>.</span><span class='id identifier rubyid_additionalProperties'>additionalProperties</span><span class='period'>.</span><span class='id identifier rubyid_getFeatureAsString'>getFeatureAsString</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Constants.html" title="Constants (class)">Constants</a></span></span><span class='period'>.</span><span class='const'><span class='object_link'><a href="Constants.html#ClothesDryerFuelType-class_method" title="Constants.ClothesDryerFuelType (method)">ClothesDryerFuelType</a></span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_cd_fuel_split'>cd_fuel_split</span> <span class='op'>=</span> <span class='id identifier rubyid_cd'>cd</span><span class='period'>.</span><span class='id identifier rubyid_additionalProperties'>additionalProperties</span><span class='period'>.</span><span class='id identifier rubyid_getFeatureAsDouble'>getFeatureAsDouble</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Constants.html" title="Constants (class)">Constants</a></span></span><span class='period'>.</span><span class='const'><span class='object_link'><a href="Constants.html#ClothesDryerFuelSplit-class_method" title="Constants.ClothesDryerFuelSplit (method)">ClothesDryerFuelSplit</a></span></span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_cd_cef'>cd_cef</span><span class='period'>.</span><span class='id identifier rubyid_is_initialized'>is_initialized</span> <span class='kw'>or</span> <span class='op'>!</span><span class='id identifier rubyid_cd_mult'>cd_mult</span><span class='period'>.</span><span class='id identifier rubyid_is_initialized'>is_initialized</span> <span class='kw'>or</span> <span class='op'>!</span><span class='id identifier rubyid_cd_fuel_type'>cd_fuel_type</span><span class='period'>.</span><span class='id identifier rubyid_is_initialized'>is_initialized</span> <span class='kw'>or</span> <span class='op'>!</span><span class='id identifier rubyid_cd_fuel_split'>cd_fuel_split</span><span class='period'>.</span><span class='id identifier rubyid_is_initialized'>is_initialized</span>
        <span class='id identifier rubyid_runner'>runner</span><span class='period'>.</span><span class='id identifier rubyid_registerError'>registerError</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Could not find clothes dryer properties.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='kw'>return</span> <span class='kw'>false</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_cd_cef'>cd_cef</span> <span class='op'>=</span> <span class='id identifier rubyid_cd_cef'>cd_cef</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span>
      <span class='id identifier rubyid_cd_mult'>cd_mult</span> <span class='op'>=</span> <span class='id identifier rubyid_cd_mult'>cd_mult</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span>
      <span class='id identifier rubyid_cd_fuel_type'>cd_fuel_type</span> <span class='op'>=</span> <span class='id identifier rubyid_cd_fuel_type'>cd_fuel_type</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span>
      <span class='id identifier rubyid_cd_fuel_split'>cd_fuel_split</span> <span class='op'>=</span> <span class='id identifier rubyid_cd_fuel_split'>cd_fuel_split</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span>

      <span class='comment'># Update clothes dryer
</span>      <span class='id identifier rubyid_cd_space'>cd_space</span> <span class='op'>=</span> <span class='id identifier rubyid_cd'>cd</span><span class='period'>.</span><span class='id identifier rubyid_space'>space</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span>
      <span class='const'><span class='object_link'><a href="ClothesDryer.html" title="ClothesDryer (class)">ClothesDryer</a></span></span><span class='period'>.</span><span class='id identifier rubyid_remove'><span class='object_link'><a href="ClothesDryer.html#remove-class_method" title="ClothesDryer.remove (method)">remove</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_runner'>runner</span><span class='comma'>,</span> <span class='id identifier rubyid_cd_space'>cd_space</span><span class='comma'>,</span> <span class='id identifier rubyid_cd_unit_obj_name'>cd_unit_obj_name</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_success'>success</span><span class='comma'>,</span> <span class='id identifier rubyid_cd_ann_e'>cd_ann_e</span><span class='comma'>,</span> <span class='id identifier rubyid_cd_ann_f'>cd_ann_f</span><span class='comma'>,</span> <span class='id identifier rubyid_cd_sch'>cd_sch</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="ClothesDryer.html" title="ClothesDryer (class)">ClothesDryer</a></span></span><span class='period'>.</span><span class='id identifier rubyid_apply'><span class='object_link'><a href="ClothesDryer.html#apply-class_method" title="ClothesDryer.apply (method)">apply</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_unit'>unit</span><span class='comma'>,</span> <span class='id identifier rubyid_runner'>runner</span><span class='comma'>,</span> <span class='id identifier rubyid_cd_sch'>cd_sch</span><span class='comma'>,</span> <span class='id identifier rubyid_cd_cef'>cd_cef</span><span class='comma'>,</span> <span class='id identifier rubyid_cd_mult'>cd_mult</span><span class='comma'>,</span>
                                                               <span class='id identifier rubyid_cd_space'>cd_space</span><span class='comma'>,</span> <span class='id identifier rubyid_cd_fuel_type'>cd_fuel_type</span><span class='comma'>,</span> <span class='id identifier rubyid_cd_fuel_split'>cd_fuel_split</span><span class='rparen'>)</span>

      <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_success'>success</span>
        <span class='kw'>return</span> <span class='kw'>false</span>
      <span class='kw'>end</span>

      <span class='kw'>if</span> <span class='id identifier rubyid_cd_ann_e'>cd_ann_e</span> <span class='op'>&gt;</span> <span class='int'>0</span> <span class='kw'>or</span> <span class='id identifier rubyid_cd_ann_f'>cd_ann_f</span> <span class='op'>&gt;</span> <span class='int'>0</span>
        <span class='id identifier rubyid_cd_updated'>cd_updated</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='kw'>end</span>

    <span class='kw'>end</span>

  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='id identifier rubyid_ann_e'>ann_e</span><span class='comma'>,</span> <span class='id identifier rubyid_cd_updated'>cd_updated</span><span class='comma'>,</span> <span class='id identifier rubyid_cd_sch'>cd_sch</span><span class='comma'>,</span> <span class='id identifier rubyid_mains_temps'>mains_temps</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove-class_method">
  
    .<strong>remove</strong>(runner, space, obj_name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'resources/appliances.rb', line 512</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_remove'>remove</span><span class='lparen'>(</span><span class='id identifier rubyid_runner'>runner</span><span class='comma'>,</span> <span class='id identifier rubyid_space'>space</span><span class='comma'>,</span> <span class='id identifier rubyid_obj_name'>obj_name</span><span class='rparen'>)</span>
  <span class='comment'># Remove any existing clothes washer
</span>  <span class='id identifier rubyid_objects_to_remove'>objects_to_remove</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_space'>space</span><span class='period'>.</span><span class='id identifier rubyid_electricEquipment'>electricEquipment</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_space_equipment'>space_equipment</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_space_equipment'>space_equipment</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span> <span class='id identifier rubyid_obj_name'>obj_name</span>

    <span class='id identifier rubyid_objects_to_remove'>objects_to_remove</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_space_equipment'>space_equipment</span>
    <span class='id identifier rubyid_objects_to_remove'>objects_to_remove</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_space_equipment'>space_equipment</span><span class='period'>.</span><span class='id identifier rubyid_electricEquipmentDefinition'>electricEquipmentDefinition</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_space_equipment'>space_equipment</span><span class='period'>.</span><span class='id identifier rubyid_schedule'>schedule</span><span class='period'>.</span><span class='id identifier rubyid_is_initialized'>is_initialized</span>
      <span class='id identifier rubyid_objects_to_remove'>objects_to_remove</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_space_equipment'>space_equipment</span><span class='period'>.</span><span class='id identifier rubyid_schedule'>schedule</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_space'>space</span><span class='period'>.</span><span class='id identifier rubyid_waterUseEquipment'>waterUseEquipment</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_space_equipment'>space_equipment</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_space_equipment'>space_equipment</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span> <span class='id identifier rubyid_obj_name'>obj_name</span>

    <span class='id identifier rubyid_objects_to_remove'>objects_to_remove</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_space_equipment'>space_equipment</span>
    <span class='id identifier rubyid_objects_to_remove'>objects_to_remove</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_space_equipment'>space_equipment</span><span class='period'>.</span><span class='id identifier rubyid_waterUseEquipmentDefinition'>waterUseEquipmentDefinition</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_space_equipment'>space_equipment</span><span class='period'>.</span><span class='id identifier rubyid_flowRateFractionSchedule'>flowRateFractionSchedule</span><span class='period'>.</span><span class='id identifier rubyid_is_initialized'>is_initialized</span>
      <span class='id identifier rubyid_objects_to_remove'>objects_to_remove</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_space_equipment'>space_equipment</span><span class='period'>.</span><span class='id identifier rubyid_flowRateFractionSchedule'>flowRateFractionSchedule</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_space_equipment'>space_equipment</span><span class='period'>.</span><span class='id identifier rubyid_waterUseEquipmentDefinition'>waterUseEquipmentDefinition</span><span class='period'>.</span><span class='id identifier rubyid_targetTemperatureSchedule'>targetTemperatureSchedule</span><span class='period'>.</span><span class='id identifier rubyid_is_initialized'>is_initialized</span>
      <span class='id identifier rubyid_objects_to_remove'>objects_to_remove</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_space_equipment'>space_equipment</span><span class='period'>.</span><span class='id identifier rubyid_waterUseEquipmentDefinition'>waterUseEquipmentDefinition</span><span class='period'>.</span><span class='id identifier rubyid_targetTemperatureSchedule'>targetTemperatureSchedule</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_objects_to_remove'>objects_to_remove</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_runner'>runner</span><span class='period'>.</span><span class='id identifier rubyid_registerInfo'>registerInfo</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Removed existing clothes washer from space &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_space'>space</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_objects_to_remove'>objects_to_remove</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_object'>object</span><span class='op'>|</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_remove'>remove</span>
    <span class='kw'>rescue</span>
      <span class='comment'># no op
</span>    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Tue Jan  8 16:00:18 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.16 (ruby-2.2.6).
</div>

    </div>
  </body>
</html>