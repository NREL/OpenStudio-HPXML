<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Dishwasher
  
    &mdash; Documentation by YARD 0.9.16
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Dishwasher";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (D)</a> &raquo;
    
    
    <span class="title">Dishwasher</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Dishwasher
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Dishwasher</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>resources/appliances.rb</dd>
  </dl>
  
</div>








  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#apply-class_method" title="apply (class method)">.<strong>apply</strong>(model, unit, runner, num_settings, rated_annual_energy, cold_inlet, has_internal_heater, cold_use, test_date, annual_gas_cost, mult_e, mult_hw, d_sh, space, plant_loop, mains_temps)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove-class_method" title="remove (class method)">.<strong>remove</strong>(runner, space, obj_name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="apply-class_method">
  
    .<strong>apply</strong>(model, unit, runner, num_settings, rated_annual_energy, cold_inlet, has_internal_heater, cold_use, test_date, annual_gas_cost, mult_e, mult_hw, d_sh, space, plant_loop, mains_temps)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


923
924
925
926
927
928
929
930
931
932
933
934
935
936
937
938
939
940
941
942
943
944
945
946
947
948
949
950
951
952
953
954
955
956
957
958
959
960
961
962
963
964
965
966
967
968
969
970
971
972
973
974
975
976
977
978
979
980
981
982
983
984
985
986
987
988
989
990
991
992
993
994
995
996
997
998
999
1000
1001
1002
1003
1004
1005
1006
1007
1008
1009
1010
1011
1012
1013
1014
1015
1016
1017
1018
1019
1020
1021
1022
1023
1024
1025
1026
1027
1028
1029
1030
1031
1032
1033
1034
1035
1036
1037
1038
1039
1040
1041
1042
1043
1044
1045
1046
1047
1048
1049
1050
1051
1052
1053
1054
1055
1056
1057
1058
1059
1060
1061
1062
1063
1064
1065
1066
1067
1068
1069
1070
1071
1072
1073
1074
1075
1076
1077
1078
1079
1080
1081
1082
1083
1084
1085
1086
1087
1088
1089
1090
1091
1092
1093
1094
1095
1096
1097
1098
1099
1100
1101
1102
1103
1104
1105
1106
1107
1108
1109
1110
1111
1112
1113
1114
1115
1116
1117
1118
1119
1120
1121
1122
1123
1124
1125
1126
1127
1128
1129
1130
1131
1132
1133
1134
1135
1136
1137
1138
1139
1140
1141
1142
1143
1144
1145
1146
1147
1148
1149
1150
1151
1152
1153
1154
1155
1156
1157
1158
1159
1160
1161
1162
1163
1164
1165
1166
1167
1168
1169
1170
1171
1172
1173
1174
1175
1176
1177
1178
1179
1180
1181
1182
1183
1184
1185
1186
1187
1188
1189
1190
1191
1192
1193
1194
1195
1196
1197
1198
1199
1200
1201
1202
1203
1204
1205
1206
1207
1208</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'resources/appliances.rb', line 923</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_apply'>apply</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_unit'>unit</span><span class='comma'>,</span> <span class='id identifier rubyid_runner'>runner</span><span class='comma'>,</span> <span class='id identifier rubyid_num_settings'>num_settings</span><span class='comma'>,</span> <span class='id identifier rubyid_rated_annual_energy'>rated_annual_energy</span><span class='comma'>,</span>
               <span class='id identifier rubyid_cold_inlet'>cold_inlet</span><span class='comma'>,</span> <span class='id identifier rubyid_has_internal_heater'>has_internal_heater</span><span class='comma'>,</span> <span class='id identifier rubyid_cold_use'>cold_use</span><span class='comma'>,</span> <span class='id identifier rubyid_test_date'>test_date</span><span class='comma'>,</span>
               <span class='id identifier rubyid_annual_gas_cost'>annual_gas_cost</span><span class='comma'>,</span> <span class='id identifier rubyid_mult_e'>mult_e</span><span class='comma'>,</span> <span class='id identifier rubyid_mult_hw'>mult_hw</span><span class='comma'>,</span> <span class='id identifier rubyid_d_sh'>d_sh</span><span class='comma'>,</span> <span class='id identifier rubyid_space'>space</span><span class='comma'>,</span> <span class='id identifier rubyid_plant_loop'>plant_loop</span><span class='comma'>,</span>
               <span class='id identifier rubyid_mains_temps'>mains_temps</span><span class='rparen'>)</span>

  <span class='comment'># Check for valid inputs
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_num_settings'>num_settings</span> <span class='op'>&lt;</span> <span class='int'>1</span>
    <span class='id identifier rubyid_runner'>runner</span><span class='period'>.</span><span class='id identifier rubyid_registerError'>registerError</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Number of place settings must be greater than or equal to 1.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_rated_annual_energy'>rated_annual_energy</span> <span class='op'>&lt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_runner'>runner</span><span class='period'>.</span><span class='id identifier rubyid_registerError'>registerError</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Rated annual energy consumption must be greater than or equal to 0.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_cold_use'>cold_use</span> <span class='op'>&lt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_runner'>runner</span><span class='period'>.</span><span class='id identifier rubyid_registerError'>registerError</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cold water connection use must be greater than or equal to 0.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_test_date'>test_date</span> <span class='op'>&lt;</span> <span class='int'>1900</span>
    <span class='id identifier rubyid_runner'>runner</span><span class='period'>.</span><span class='id identifier rubyid_registerError'>registerError</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Energy Guide date must be greater than or equal to 1900.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_annual_gas_cost'>annual_gas_cost</span> <span class='op'>&lt;=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_runner'>runner</span><span class='period'>.</span><span class='id identifier rubyid_registerError'>registerError</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Energy Guide annual gas cost must be greater than 0.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_mult_e'>mult_e</span> <span class='op'>&lt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_runner'>runner</span><span class='period'>.</span><span class='id identifier rubyid_registerError'>registerError</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Occupancy energy multiplier must be greater than or equal to 0.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_mult_hw'>mult_hw</span> <span class='op'>&lt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_runner'>runner</span><span class='period'>.</span><span class='id identifier rubyid_registerError'>registerError</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Occupancy hot water multiplier must be greater than or equal to 0.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_d_sh'>d_sh</span> <span class='op'>&lt;</span> <span class='int'>0</span> <span class='kw'>or</span> <span class='id identifier rubyid_d_sh'>d_sh</span> <span class='op'>&gt;</span> <span class='int'>364</span>
    <span class='id identifier rubyid_runner'>runner</span><span class='period'>.</span><span class='id identifier rubyid_registerError'>registerError</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hot water draw profile can only be shifted by 0-364 days.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>

  <span class='comment'># Get unit beds/baths
</span>  <span class='id identifier rubyid_nbeds'>nbeds</span><span class='comma'>,</span> <span class='id identifier rubyid_nbaths'>nbaths</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Geometry.html" title="Geometry (class)">Geometry</a></span></span><span class='period'>.</span><span class='id identifier rubyid_get_unit_beds_baths'><span class='object_link'><a href="Geometry.html#get_unit_beds_baths-class_method" title="Geometry.get_unit_beds_baths (method)">get_unit_beds_baths</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_unit'>unit</span><span class='comma'>,</span> <span class='id identifier rubyid_runner'>runner</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_nbeds'>nbeds</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_nbaths'>nbaths</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>

  <span class='comment'># Get water heater setpoint
</span>  <span class='id identifier rubyid_wh_setpoint'>wh_setpoint</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Waterheater.html" title="Waterheater (class)">Waterheater</a></span></span><span class='period'>.</span><span class='id identifier rubyid_get_water_heater_setpoint'>get_water_heater_setpoint</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_plant_loop'>plant_loop</span><span class='comma'>,</span> <span class='id identifier rubyid_runner'>runner</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_wh_setpoint'>wh_setpoint</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_cold_inlet'>cold_inlet</span> <span class='kw'>and</span> <span class='id identifier rubyid_mains_temps'>mains_temps</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='comment'># Get mains monthly temperatures if needed
</span>    <span class='id identifier rubyid_site'>site</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_getSite'>getSite</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_site'>site</span><span class='period'>.</span><span class='id identifier rubyid_siteWaterMainsTemperature'>siteWaterMainsTemperature</span><span class='period'>.</span><span class='id identifier rubyid_is_initialized'>is_initialized</span>
      <span class='id identifier rubyid_runner'>runner</span><span class='period'>.</span><span class='id identifier rubyid_registerError'>registerError</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Mains water temperature has not been set.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>false</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_waterMainsTemperature'>waterMainsTemperature</span> <span class='op'>=</span> <span class='id identifier rubyid_site'>site</span><span class='period'>.</span><span class='id identifier rubyid_siteWaterMainsTemperature'>siteWaterMainsTemperature</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span>
    <span class='id identifier rubyid_avgOAT'>avgOAT</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="UnitConversions.html" title="UnitConversions (class)">UnitConversions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_convert'><span class='object_link'><a href="UnitConversions.html#convert-class_method" title="UnitConversions.convert (method)">convert</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_waterMainsTemperature'>waterMainsTemperature</span><span class='period'>.</span><span class='id identifier rubyid_annualAverageOutdoorAirTemperature'>annualAverageOutdoorAirTemperature</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>F</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_maxDiffMonthlyAvgOAT'>maxDiffMonthlyAvgOAT</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="UnitConversions.html" title="UnitConversions (class)">UnitConversions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_convert'><span class='object_link'><a href="UnitConversions.html#convert-class_method" title="UnitConversions.convert (method)">convert</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_waterMainsTemperature'>waterMainsTemperature</span><span class='period'>.</span><span class='id identifier rubyid_maximumDifferenceInMonthlyAverageOutdoorAirTemperatures'>maximumDifferenceInMonthlyAverageOutdoorAirTemperatures</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>K</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>R</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_mains_temps'>mains_temps</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="WeatherProcess.html" title="WeatherProcess (class)">WeatherProcess</a></span></span><span class='period'>.</span><span class='id identifier rubyid_calc_mains_temperatures'>calc_mains_temperatures</span><span class='lparen'>(</span><span class='id identifier rubyid_avgOAT'>avgOAT</span><span class='comma'>,</span> <span class='id identifier rubyid_maxDiffMonthlyAvgOAT'>maxDiffMonthlyAvgOAT</span><span class='comma'>,</span> <span class='id identifier rubyid_site'>site</span><span class='period'>.</span><span class='id identifier rubyid_latitude'>latitude</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_unit_obj_name'>unit_obj_name</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Constants.html" title="Constants (class)">Constants</a></span></span><span class='period'>.</span><span class='const'><span class='object_link'><a href="Constants.html#ObjectNameDishwasher-class_method" title="Constants.ObjectNameDishwasher (method)">ObjectNameDishwasher</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_unit'>unit</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>

  <span class='comment'># The water used in dishwashers must be heated, either internally or
</span>  <span class='comment'># externally, to at least 140 degF for proper operation (dissolving of
</span>  <span class='comment'># detergent, cleaning of dishes).
</span>  <span class='id identifier rubyid_operating_water_temp'>operating_water_temp</span> <span class='op'>=</span> <span class='int'>140</span> <span class='comment'># degF
</span>
  <span class='id identifier rubyid_water_dens'>water_dens</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Liquid.html" title="Liquid (class)">Liquid</a></span></span><span class='period'>.</span><span class='const'><span class='object_link'><a href="Liquid.html#H2O_l-class_method" title="Liquid.H2O_l (method)">H2O_l</a></span></span><span class='period'>.</span><span class='id identifier rubyid_rho'>rho</span> <span class='comment'># lbm/ft^3
</span>  <span class='id identifier rubyid_water_sh'>water_sh</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Liquid.html" title="Liquid (class)">Liquid</a></span></span><span class='period'>.</span><span class='const'><span class='object_link'><a href="Liquid.html#H2O_l-class_method" title="Liquid.H2O_l (method)">H2O_l</a></span></span><span class='period'>.</span><span class='id identifier rubyid_cp'>cp</span> <span class='comment'># Btu/lbm-R
</span>
  <span class='comment'># Use EnergyGuide Label test data to calculate per-cycle energy and
</span>  <span class='comment'># water consumption. Calculations are based on &quot;Method for
</span>  <span class='comment'># Evaluating Energy Use of Dishwashers, Clothes Washers, and
</span>  <span class='comment'># Clothes Dryers&quot; by Eastment and Hendron, Conference Paper
</span>  <span class='comment'># NREL/CP-550-39769, August 2006. Their paper is in part based on
</span>  <span class='comment'># the energy use calculations presented in the 10CFR Part 430,
</span>  <span class='comment'># Subpt. B, App. C (DOE 1999),
</span>  <span class='comment'># http://ecfr.gpoaccess.gov/cgi/t/text/text-idx?c=ecfr&amp;tpl=/ecfrbrowse/Title10/10cfr430_main_02.tpl
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_test_date'>test_date</span> <span class='op'>&lt;=</span> <span class='int'>2002</span>
    <span class='id identifier rubyid_test_cycles_per_year'>test_cycles_per_year</span> <span class='op'>=</span> <span class='int'>322</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_test_date'>test_date</span> <span class='op'>&lt;</span> <span class='int'>2004</span>
    <span class='id identifier rubyid_test_cycles_per_year'>test_cycles_per_year</span> <span class='op'>=</span> <span class='int'>264</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_test_cycles_per_year'>test_cycles_per_year</span> <span class='op'>=</span> <span class='int'>215</span>
  <span class='kw'>end</span>

  <span class='comment'># The water heater recovery efficiency - how efficiently the heat
</span>  <span class='comment'># from natural gas is transferred to the water in the water heater.
</span>  <span class='comment'># The DOE 10CFR Part 430 assumes a nominal gas water heater
</span>  <span class='comment'># recovery efficiency of 0.75.
</span>  <span class='id identifier rubyid_test_gas_dhw_heater_efficiency'>test_gas_dhw_heater_efficiency</span> <span class='op'>=</span> <span class='float'>0.75</span>

  <span class='comment'># Cold water supply temperature during tests (see 10CFR Part 430,
</span>  <span class='comment'># Subpt. B, App. C, Section 1.19, DOE 1999).
</span>  <span class='id identifier rubyid_test_mains_temp'>test_mains_temp</span> <span class='op'>=</span> <span class='int'>50</span> <span class='comment'># degF
</span>  <span class='comment'># Hot water supply temperature during tests (see 10CFR Part 430,
</span>  <span class='comment'># Subpt. B, App. C, Section 1.19, DOE 1999).
</span>  <span class='id identifier rubyid_test_dhw_temp'>test_dhw_temp</span> <span class='op'>=</span> <span class='int'>120</span> <span class='comment'># degF
</span>
  <span class='comment'># Determine the Gas use for domestic hot water per cycle for test conditions
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_cold_inlet'>cold_inlet</span>
    <span class='id identifier rubyid_test_gas_use_per_cycle'>test_gas_use_per_cycle</span> <span class='op'>=</span> <span class='int'>0</span> <span class='comment'># therms/cycle
</span>  <span class='kw'>else</span>
    <span class='comment'># Use the EnergyGuide Label information (eq. 1 Eastment and
</span>    <span class='comment'># Hendron, NREL/CP-550-39769, 2006).
</span>    <span class='id identifier rubyid_rated_annual_eg_gas_cost'>rated_annual_eg_gas_cost</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="EnergyGuideLabel.html" title="EnergyGuideLabel (class)">EnergyGuideLabel</a></span></span><span class='period'>.</span><span class='id identifier rubyid_get_energy_guide_gas_cost'><span class='object_link'><a href="EnergyGuideLabel.html#get_energy_guide_gas_cost-class_method" title="EnergyGuideLabel.get_energy_guide_gas_cost (method)">get_energy_guide_gas_cost</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_test_date'>test_date</span><span class='rparen'>)</span> <span class='op'>/</span> <span class='int'>100</span>
    <span class='id identifier rubyid_rated_annual_eg_elec_cost'>rated_annual_eg_elec_cost</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="EnergyGuideLabel.html" title="EnergyGuideLabel (class)">EnergyGuideLabel</a></span></span><span class='period'>.</span><span class='id identifier rubyid_get_energy_guide_elec_cost'><span class='object_link'><a href="EnergyGuideLabel.html#get_energy_guide_elec_cost-class_method" title="EnergyGuideLabel.get_energy_guide_elec_cost (method)">get_energy_guide_elec_cost</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_test_date'>test_date</span><span class='rparen'>)</span> <span class='op'>/</span> <span class='int'>100</span>
    <span class='id identifier rubyid_test_gas_use_per_cycle'>test_gas_use_per_cycle</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_rated_annual_energy'>rated_annual_energy</span> <span class='op'>*</span>
                                 <span class='id identifier rubyid_rated_annual_eg_elec_cost'>rated_annual_eg_elec_cost</span> <span class='op'>-</span>
                                 <span class='id identifier rubyid_annual_gas_cost'>annual_gas_cost</span><span class='rparen'>)</span> <span class='op'>/</span>
                                <span class='lparen'>(</span><span class='const'><span class='object_link'><a href="UnitConversions.html" title="UnitConversions (class)">UnitConversions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_convert'><span class='object_link'><a href="UnitConversions.html#convert-class_method" title="UnitConversions.convert (method)">convert</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_test_gas_dhw_heater_efficiency'>test_gas_dhw_heater_efficiency</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>therm</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>kWh</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>*</span>
                                 <span class='id identifier rubyid_rated_annual_eg_elec_cost'>rated_annual_eg_elec_cost</span> <span class='op'>-</span>
                                 <span class='id identifier rubyid_rated_annual_eg_gas_cost'>rated_annual_eg_gas_cost</span><span class='rparen'>)</span> <span class='op'>/</span>
                                <span class='id identifier rubyid_test_cycles_per_year'>test_cycles_per_year</span><span class='rparen'>)</span> <span class='comment'># Therns/cycle
</span>  <span class='kw'>end</span>

  <span class='comment'># Use additional EnergyGuide Label information to determine how much
</span>  <span class='comment'># electricity was used in the test to power the dishwasher&#39;s
</span>  <span class='comment'># internal machinery (eq. 2 Eastment and Hendron, NREL/CP-550-39769,
</span>  <span class='comment'># 2006). Any energy required for internal water heating will be
</span>  <span class='comment'># included in this value.
</span>  <span class='id identifier rubyid_test_rated_annual_elec_use_per_cycle'>test_rated_annual_elec_use_per_cycle</span> <span class='op'>=</span> <span class='id identifier rubyid_rated_annual_energy'>rated_annual_energy</span> <span class='op'>/</span> \
                                         <span class='id identifier rubyid_test_cycles_per_year'>test_cycles_per_year</span> <span class='op'>-</span> \
                                         <span class='const'><span class='object_link'><a href="UnitConversions.html" title="UnitConversions (class)">UnitConversions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_convert'><span class='object_link'><a href="UnitConversions.html#convert-class_method" title="UnitConversions.convert (method)">convert</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_test_gas_dhw_heater_efficiency'>test_gas_dhw_heater_efficiency</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>therm</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>kWh</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>*</span> \
                                         <span class='id identifier rubyid_test_gas_use_per_cycle'>test_gas_use_per_cycle</span> <span class='comment'># kWh/cycle
</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_cold_inlet'>cold_inlet</span>
    <span class='comment'># for Type 3 Dishwashers - those with an electric element
</span>    <span class='comment'># internal to the machine to provide all of the water heating
</span>    <span class='comment'># (see Eastment and Hendron, NREL/CP-550-39769, 2006)
</span>    <span class='id identifier rubyid_test_dhw_use_per_cycle'>test_dhw_use_per_cycle</span> <span class='op'>=</span> <span class='int'>0</span> <span class='comment'># gal/cycle
</span>  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_has_internal_heater'>has_internal_heater</span>
      <span class='comment'># for Type 2 Dishwashers - those with an electric element
</span>      <span class='comment'># internal to the machine for providing auxiliary water
</span>      <span class='comment'># heating (see Eastment and Hendron, NREL/CP-550-39769,
</span>      <span class='comment'># 2006)
</span>      <span class='id identifier rubyid_test_water_heater_temp_diff'>test_water_heater_temp_diff</span> <span class='op'>=</span> <span class='id identifier rubyid_test_dhw_temp'>test_dhw_temp</span> <span class='op'>-</span> \
                                    <span class='id identifier rubyid_test_mains_temp'>test_mains_temp</span> <span class='comment'># degF water heater temperature rise in the test
</span>    <span class='kw'>else</span>
      <span class='id identifier rubyid_test_water_heater_temp_diff'>test_water_heater_temp_diff</span> <span class='op'>=</span> <span class='id identifier rubyid_operating_water_temp'>operating_water_temp</span> <span class='op'>-</span> \
                                    <span class='id identifier rubyid_test_mains_temp'>test_mains_temp</span> <span class='comment'># water heater temperature rise in the test
</span>    <span class='kw'>end</span>

    <span class='comment'># Determine how much hot water was used in the test based on
</span>    <span class='comment'># the amount of gas used in the test to heat the water and the
</span>    <span class='comment'># temperature rise in the water heater in the test (eq. 3
</span>    <span class='comment'># Eastment and Hendron, NREL/CP-550-39769, 2006).
</span>    <span class='id identifier rubyid_test_dhw_use_per_cycle'>test_dhw_use_per_cycle</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='const'><span class='object_link'><a href="UnitConversions.html" title="UnitConversions (class)">UnitConversions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_convert'><span class='object_link'><a href="UnitConversions.html#convert-class_method" title="UnitConversions.convert (method)">convert</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_test_gas_use_per_cycle'>test_gas_use_per_cycle</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>therm</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>kWh</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>*</span> \
                                 <span class='id identifier rubyid_test_gas_dhw_heater_efficiency'>test_gas_dhw_heater_efficiency</span><span class='rparen'>)</span> <span class='op'>/</span> \
                             <span class='lparen'>(</span><span class='id identifier rubyid_test_water_heater_temp_diff'>test_water_heater_temp_diff</span> <span class='op'>*</span> \
                              <span class='id identifier rubyid_water_dens'>water_dens</span> <span class='op'>*</span> <span class='id identifier rubyid_water_sh'>water_sh</span> <span class='op'>*</span> \
                              <span class='const'><span class='object_link'><a href="UnitConversions.html" title="UnitConversions (class)">UnitConversions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_convert'><span class='object_link'><a href="UnitConversions.html#convert-class_method" title="UnitConversions.convert (method)">convert</a></span></span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Btu</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>kWh</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>/</span> <span class='const'><span class='object_link'><a href="UnitConversions.html" title="UnitConversions (class)">UnitConversions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_convert'><span class='object_link'><a href="UnitConversions.html#convert-class_method" title="UnitConversions.convert (method)">convert</a></span></span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ft^3</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gal</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='comment'># gal/cycle (hot water)
</span>  <span class='kw'>end</span>

  <span class='comment'># (eq. 16 Eastment and Hendron, NREL/CP-550-39769, 2006)
</span>  <span class='id identifier rubyid_actual_cycles_per_year'>actual_cycles_per_year</span> <span class='op'>=</span> <span class='int'>215</span> <span class='op'>*</span> <span class='lparen'>(</span><span class='float'>0.5</span> <span class='op'>+</span> <span class='id identifier rubyid_nbeds'>nbeds</span> <span class='op'>/</span> <span class='int'>6</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='lparen'>(</span><span class='int'>8</span> <span class='op'>/</span> <span class='id identifier rubyid_num_settings'>num_settings</span><span class='rparen'>)</span> <span class='comment'># cycles/year
</span>
  <span class='id identifier rubyid_daily_dishwasher_dhw'>daily_dishwasher_dhw</span> <span class='op'>=</span> <span class='id identifier rubyid_actual_cycles_per_year'>actual_cycles_per_year</span> <span class='op'>*</span> <span class='id identifier rubyid_test_dhw_use_per_cycle'>test_dhw_use_per_cycle</span> <span class='op'>/</span> <span class='int'>365</span> <span class='comment'># gal/day (hot water)
</span>
  <span class='comment'># Calculate total (hot or cold) daily water usage.
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_cold_inlet'>cold_inlet</span>
    <span class='comment'># From the 2010 BA Benchmark for dishwasher hot water
</span>    <span class='comment'># consumption. Should be appropriate for cold-water-inlet-only
</span>    <span class='comment'># dishwashers also.
</span>    <span class='id identifier rubyid_daily_water'>daily_water</span> <span class='op'>=</span> <span class='float'>2.5</span> <span class='op'>+</span> <span class='float'>0.833</span> <span class='op'>*</span> <span class='id identifier rubyid_nbeds'>nbeds</span> <span class='comment'># gal/day
</span>  <span class='kw'>else</span>
    <span class='comment'># Dishwasher uses only hot water so total water usage = DHW usage.
</span>    <span class='id identifier rubyid_daily_water'>daily_water</span> <span class='op'>=</span> <span class='id identifier rubyid_daily_dishwasher_dhw'>daily_dishwasher_dhw</span> <span class='comment'># gal/day
</span>  <span class='kw'>end</span>

  <span class='comment'># Calculate actual electricity use per cycle by adjusting test
</span>  <span class='comment'># electricity use per cycle (up or down) to account for differences
</span>  <span class='comment'># between actual water supply temperatures and test conditions.
</span>  <span class='comment'># Also convert from per-cycle to daily electricity usage amounts.
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_cold_inlet'>cold_inlet</span>

    <span class='id identifier rubyid_monthly_energy'>monthly_energy</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>12</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_mains_temps'>mains_temps</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_monthly_main'>monthly_main</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
      <span class='comment'># Adjust for monthly variation in Tmains vs. test cold
</span>      <span class='comment'># water supply temperature.
</span>      <span class='id identifier rubyid_actual_rated_annual_elec_use_per_cycle'>actual_rated_annual_elec_use_per_cycle</span> <span class='op'>=</span> <span class='id identifier rubyid_test_rated_annual_elec_use_per_cycle'>test_rated_annual_elec_use_per_cycle</span> <span class='op'>+</span> \
                                               <span class='lparen'>(</span><span class='id identifier rubyid_test_mains_temp'>test_mains_temp</span> <span class='op'>-</span> <span class='id identifier rubyid_monthly_main'>monthly_main</span><span class='rparen'>)</span> <span class='op'>*</span> \
                                               <span class='id identifier rubyid_cold_use'>cold_use</span> <span class='op'>*</span> \
                                               <span class='lparen'>(</span><span class='id identifier rubyid_water_dens'>water_dens</span> <span class='op'>*</span> <span class='id identifier rubyid_water_sh'>water_sh</span> <span class='op'>*</span> <span class='const'><span class='object_link'><a href="UnitConversions.html" title="UnitConversions (class)">UnitConversions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_convert'><span class='object_link'><a href="UnitConversions.html#convert-class_method" title="UnitConversions.convert (method)">convert</a></span></span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Btu</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>kWh</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>/</span>
                                               <span class='const'><span class='object_link'><a href="UnitConversions.html" title="UnitConversions (class)">UnitConversions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_convert'><span class='object_link'><a href="UnitConversions.html#convert-class_method" title="UnitConversions.convert (method)">convert</a></span></span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ft^3</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gal</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='comment'># kWh/cycle
</span>      <span class='id identifier rubyid_monthly_energy'>monthly_energy</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_actual_rated_annual_elec_use_per_cycle'>actual_rated_annual_elec_use_per_cycle</span> <span class='op'>*</span> \
                                      <span class='const'><span class='object_link'><a href="Constants.html" title="Constants (class)">Constants</a></span></span><span class='period'>.</span><span class='const'><span class='object_link'><a href="Constants.html#MonthNumDays-class_method" title="Constants.MonthNumDays (method)">MonthNumDays</a></span></span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>*</span> \
                                      <span class='id identifier rubyid_actual_cycles_per_year'>actual_cycles_per_year</span> <span class='op'>/</span> \
                                      <span class='int'>365</span><span class='rparen'>)</span> <span class='comment'># kWh/month
</span>    <span class='kw'>end</span>

    <span class='id identifier rubyid_daily_energy'>daily_energy</span> <span class='op'>=</span> <span class='id identifier rubyid_monthly_energy'>monthly_energy</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='symbol'>:+</span><span class='rparen'>)</span> <span class='op'>/</span> <span class='int'>365</span> <span class='comment'># kWh/day
</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_has_internal_heater'>has_internal_heater</span>

    <span class='comment'># Adjust for difference in water heater supply temperature vs.
</span>    <span class='comment'># test hot water supply temperature.
</span>    <span class='id identifier rubyid_actual_rated_annual_elec_use_per_cycle'>actual_rated_annual_elec_use_per_cycle</span> <span class='op'>=</span> <span class='id identifier rubyid_test_rated_annual_elec_use_per_cycle'>test_rated_annual_elec_use_per_cycle</span> <span class='op'>+</span> \
                                             <span class='lparen'>(</span><span class='id identifier rubyid_test_dhw_temp'>test_dhw_temp</span> <span class='op'>-</span> <span class='id identifier rubyid_wh_setpoint'>wh_setpoint</span><span class='rparen'>)</span> <span class='op'>*</span> \
                                             <span class='id identifier rubyid_test_dhw_use_per_cycle'>test_dhw_use_per_cycle</span> <span class='op'>*</span> \
                                             <span class='lparen'>(</span><span class='id identifier rubyid_water_dens'>water_dens</span> <span class='op'>*</span> <span class='id identifier rubyid_water_sh'>water_sh</span> <span class='op'>*</span> \
                                              <span class='const'><span class='object_link'><a href="UnitConversions.html" title="UnitConversions (class)">UnitConversions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_convert'><span class='object_link'><a href="UnitConversions.html#convert-class_method" title="UnitConversions.convert (method)">convert</a></span></span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Btu</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>kWh</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>/</span>
                                              <span class='const'><span class='object_link'><a href="UnitConversions.html" title="UnitConversions (class)">UnitConversions</a></span></span><span class='period'>.</span><span class='id identifier rubyid_convert'><span class='object_link'><a href="UnitConversions.html#convert-class_method" title="UnitConversions.convert (method)">convert</a></span></span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ft^3</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gal</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='comment'># kWh/cycle
</span>    <span class='id identifier rubyid_daily_energy'>daily_energy</span> <span class='op'>=</span> <span class='id identifier rubyid_actual_rated_annual_elec_use_per_cycle'>actual_rated_annual_elec_use_per_cycle</span> <span class='op'>*</span> \
                   <span class='id identifier rubyid_actual_cycles_per_year'>actual_cycles_per_year</span> <span class='op'>/</span> <span class='int'>365</span> <span class='comment'># kWh/day
</span>
  <span class='kw'>else</span>

    <span class='comment'># Dishwasher has no internal heater
</span>    <span class='id identifier rubyid_actual_rated_annual_elec_use_per_cycle'>actual_rated_annual_elec_use_per_cycle</span> <span class='op'>=</span> <span class='id identifier rubyid_test_rated_annual_elec_use_per_cycle'>test_rated_annual_elec_use_per_cycle</span> <span class='comment'># kWh/cycle
</span>    <span class='id identifier rubyid_daily_energy'>daily_energy</span> <span class='op'>=</span> <span class='id identifier rubyid_actual_rated_annual_elec_use_per_cycle'>actual_rated_annual_elec_use_per_cycle</span> <span class='op'>*</span> \
                   <span class='id identifier rubyid_actual_cycles_per_year'>actual_cycles_per_year</span> <span class='op'>/</span> <span class='int'>365</span> <span class='comment'># kWh/day
</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_daily_energy'>daily_energy</span> <span class='op'>=</span> <span class='id identifier rubyid_daily_energy'>daily_energy</span> <span class='op'>*</span> <span class='id identifier rubyid_mult_e'>mult_e</span>
  <span class='id identifier rubyid_daily_water'>daily_water</span> <span class='op'>=</span> <span class='id identifier rubyid_daily_water'>daily_water</span> <span class='op'>*</span> <span class='id identifier rubyid_mult_hw'>mult_hw</span>

  <span class='id identifier rubyid_ann_e'>ann_e</span> <span class='op'>=</span> <span class='id identifier rubyid_daily_energy'>daily_energy</span> <span class='op'>*</span> <span class='int'>365</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_daily_energy'>daily_energy</span> <span class='op'>&lt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_runner'>runner</span><span class='period'>.</span><span class='id identifier rubyid_registerError'>registerError</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The inputs for the dishwasher resulted in a negative amount of energy consumption.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_ann_e'>ann_e</span> <span class='op'>&gt;</span> <span class='int'>0</span>

    <span class='comment'># Create schedule
</span>    <span class='id identifier rubyid_sch'>sch</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="HotWaterSchedule.html" title="HotWaterSchedule (class)">HotWaterSchedule</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="HotWaterSchedule.html#initialize-instance_method" title="HotWaterSchedule#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_runner'>runner</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="Constants.html" title="Constants (class)">Constants</a></span></span><span class='period'>.</span><span class='const'><span class='object_link'><a href="Constants.html#ObjectNameDishwasher-class_method" title="Constants.ObjectNameDishwasher (method)">ObjectNameDishwasher</a></span></span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> schedule</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                               <span class='const'><span class='object_link'><a href="Constants.html" title="Constants (class)">Constants</a></span></span><span class='period'>.</span><span class='const'><span class='object_link'><a href="Constants.html#ObjectNameDishwasher-class_method" title="Constants.ObjectNameDishwasher (method)">ObjectNameDishwasher</a></span></span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> temperature schedule</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                               <span class='id identifier rubyid_nbeds'>nbeds</span><span class='comma'>,</span> <span class='id identifier rubyid_d_sh'>d_sh</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Dishwasher</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_wh_setpoint'>wh_setpoint</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_sch'>sch</span><span class='period'>.</span><span class='id identifier rubyid_validated?'>validated?</span>
      <span class='kw'>return</span> <span class='kw'>false</span>
    <span class='kw'>end</span>

    <span class='comment'># Reuse existing water use connection if possible
</span>    <span class='id identifier rubyid_water_use_connection'>water_use_connection</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_plant_loop'>plant_loop</span><span class='period'>.</span><span class='id identifier rubyid_demandComponents'>demandComponents</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component'>component</span><span class='op'>|</span>
      <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_component'>component</span><span class='period'>.</span><span class='id identifier rubyid_to_WaterUseConnections'>to_WaterUseConnections</span><span class='period'>.</span><span class='id identifier rubyid_is_initialized'>is_initialized</span>

      <span class='id identifier rubyid_water_use_connection'>water_use_connection</span> <span class='op'>=</span> <span class='id identifier rubyid_component'>component</span><span class='period'>.</span><span class='id identifier rubyid_to_WaterUseConnections'>to_WaterUseConnections</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span>
      <span class='kw'>break</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_water_use_connection'>water_use_connection</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='comment'># Need new water heater connection
</span>      <span class='id identifier rubyid_water_use_connection'>water_use_connection</span> <span class='op'>=</span> <span class='const'>OpenStudio</span><span class='op'>::</span><span class='const'>Model</span><span class='op'>::</span><span class='const'>WaterUseConnections</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_plant_loop'>plant_loop</span><span class='period'>.</span><span class='id identifier rubyid_addDemandBranchForComponent'>addDemandBranchForComponent</span><span class='lparen'>(</span><span class='id identifier rubyid_water_use_connection'>water_use_connection</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_design_level'>design_level</span> <span class='op'>=</span> <span class='id identifier rubyid_sch'>sch</span><span class='period'>.</span><span class='id identifier rubyid_calcDesignLevelFromDailykWh'>calcDesignLevelFromDailykWh</span><span class='lparen'>(</span><span class='id identifier rubyid_daily_energy'>daily_energy</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_peak_flow'>peak_flow</span> <span class='op'>=</span> <span class='id identifier rubyid_sch'>sch</span><span class='period'>.</span><span class='id identifier rubyid_calcPeakFlowFromDailygpm'>calcPeakFlowFromDailygpm</span><span class='lparen'>(</span><span class='id identifier rubyid_daily_water'>daily_water</span><span class='rparen'>)</span>

    <span class='comment'># Add electric equipment for the dw
</span>    <span class='id identifier rubyid_dw_def'>dw_def</span> <span class='op'>=</span> <span class='const'>OpenStudio</span><span class='op'>::</span><span class='const'>Model</span><span class='op'>::</span><span class='const'>ElectricEquipmentDefinition</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dw'>dw</span> <span class='op'>=</span> <span class='const'>OpenStudio</span><span class='op'>::</span><span class='const'>Model</span><span class='op'>::</span><span class='const'>ElectricEquipment</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_dw_def'>dw_def</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dw'>dw</span><span class='period'>.</span><span class='id identifier rubyid_setName'>setName</span><span class='lparen'>(</span><span class='id identifier rubyid_unit_obj_name'>unit_obj_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dw'>dw</span><span class='period'>.</span><span class='id identifier rubyid_setEndUseSubcategory'>setEndUseSubcategory</span><span class='lparen'>(</span><span class='id identifier rubyid_unit_obj_name'>unit_obj_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dw'>dw</span><span class='period'>.</span><span class='id identifier rubyid_setSpace'>setSpace</span><span class='lparen'>(</span><span class='id identifier rubyid_space'>space</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dw_def'>dw_def</span><span class='period'>.</span><span class='id identifier rubyid_setName'>setName</span><span class='lparen'>(</span><span class='id identifier rubyid_unit_obj_name'>unit_obj_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dw_def'>dw_def</span><span class='period'>.</span><span class='id identifier rubyid_setDesignLevel'>setDesignLevel</span><span class='lparen'>(</span><span class='id identifier rubyid_design_level'>design_level</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dw_def'>dw_def</span><span class='period'>.</span><span class='id identifier rubyid_setFractionRadiant'>setFractionRadiant</span><span class='lparen'>(</span><span class='float'>0.36</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dw_def'>dw_def</span><span class='period'>.</span><span class='id identifier rubyid_setFractionLatent'>setFractionLatent</span><span class='lparen'>(</span><span class='float'>0.15</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dw_def'>dw_def</span><span class='period'>.</span><span class='id identifier rubyid_setFractionLost'>setFractionLost</span><span class='lparen'>(</span><span class='float'>0.25</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dw'>dw</span><span class='period'>.</span><span class='id identifier rubyid_setSchedule'>setSchedule</span><span class='lparen'>(</span><span class='id identifier rubyid_sch'>sch</span><span class='period'>.</span><span class='id identifier rubyid_schedule'>schedule</span><span class='rparen'>)</span>

    <span class='comment'># Add water use equipment for the dw
</span>    <span class='id identifier rubyid_dw_def2'>dw_def2</span> <span class='op'>=</span> <span class='const'>OpenStudio</span><span class='op'>::</span><span class='const'>Model</span><span class='op'>::</span><span class='const'>WaterUseEquipmentDefinition</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_model'>model</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dw2'>dw2</span> <span class='op'>=</span> <span class='const'>OpenStudio</span><span class='op'>::</span><span class='const'>Model</span><span class='op'>::</span><span class='const'>WaterUseEquipment</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_dw_def2'>dw_def2</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dw2'>dw2</span><span class='period'>.</span><span class='id identifier rubyid_setName'>setName</span><span class='lparen'>(</span><span class='id identifier rubyid_unit_obj_name'>unit_obj_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dw2'>dw2</span><span class='period'>.</span><span class='id identifier rubyid_setSpace'>setSpace</span><span class='lparen'>(</span><span class='id identifier rubyid_space'>space</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dw_def2'>dw_def2</span><span class='period'>.</span><span class='id identifier rubyid_setName'>setName</span><span class='lparen'>(</span><span class='id identifier rubyid_unit_obj_name'>unit_obj_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dw_def2'>dw_def2</span><span class='period'>.</span><span class='id identifier rubyid_setPeakFlowRate'>setPeakFlowRate</span><span class='lparen'>(</span><span class='id identifier rubyid_peak_flow'>peak_flow</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dw_def2'>dw_def2</span><span class='period'>.</span><span class='id identifier rubyid_setEndUseSubcategory'>setEndUseSubcategory</span><span class='lparen'>(</span><span class='id identifier rubyid_unit_obj_name'>unit_obj_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dw2'>dw2</span><span class='period'>.</span><span class='id identifier rubyid_setFlowRateFractionSchedule'>setFlowRateFractionSchedule</span><span class='lparen'>(</span><span class='id identifier rubyid_sch'>sch</span><span class='period'>.</span><span class='id identifier rubyid_schedule'>schedule</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dw_def2'>dw_def2</span><span class='period'>.</span><span class='id identifier rubyid_setTargetTemperatureSchedule'>setTargetTemperatureSchedule</span><span class='lparen'>(</span><span class='id identifier rubyid_sch'>sch</span><span class='period'>.</span><span class='id identifier rubyid_temperatureSchedule'>temperatureSchedule</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_water_use_connection'>water_use_connection</span><span class='period'>.</span><span class='id identifier rubyid_addWaterUseEquipment'>addWaterUseEquipment</span><span class='lparen'>(</span><span class='id identifier rubyid_dw2'>dw2</span><span class='rparen'>)</span>

  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='id identifier rubyid_ann_e'>ann_e</span><span class='comma'>,</span> <span class='id identifier rubyid_mains_temps'>mains_temps</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove-class_method">
  
    .<strong>remove</strong>(runner, space, obj_name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1210
1211
1212
1213
1214
1215
1216
1217
1218
1219
1220
1221
1222
1223
1224
1225
1226
1227
1228
1229
1230
1231
1232
1233
1234
1235
1236
1237
1238
1239
1240
1241
1242
1243
1244</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'resources/appliances.rb', line 1210</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_remove'>remove</span><span class='lparen'>(</span><span class='id identifier rubyid_runner'>runner</span><span class='comma'>,</span> <span class='id identifier rubyid_space'>space</span><span class='comma'>,</span> <span class='id identifier rubyid_obj_name'>obj_name</span><span class='rparen'>)</span>
  <span class='comment'># Remove any existing dishwasher
</span>  <span class='id identifier rubyid_objects_to_remove'>objects_to_remove</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_space'>space</span><span class='period'>.</span><span class='id identifier rubyid_electricEquipment'>electricEquipment</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_space_equipment'>space_equipment</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_space_equipment'>space_equipment</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span> <span class='id identifier rubyid_obj_name'>obj_name</span>

    <span class='id identifier rubyid_objects_to_remove'>objects_to_remove</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_space_equipment'>space_equipment</span>
    <span class='id identifier rubyid_objects_to_remove'>objects_to_remove</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_space_equipment'>space_equipment</span><span class='period'>.</span><span class='id identifier rubyid_electricEquipmentDefinition'>electricEquipmentDefinition</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_space_equipment'>space_equipment</span><span class='period'>.</span><span class='id identifier rubyid_schedule'>schedule</span><span class='period'>.</span><span class='id identifier rubyid_is_initialized'>is_initialized</span>
      <span class='id identifier rubyid_objects_to_remove'>objects_to_remove</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_space_equipment'>space_equipment</span><span class='period'>.</span><span class='id identifier rubyid_schedule'>schedule</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_space'>space</span><span class='period'>.</span><span class='id identifier rubyid_waterUseEquipment'>waterUseEquipment</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_space_equipment'>space_equipment</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_space_equipment'>space_equipment</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span> <span class='id identifier rubyid_obj_name'>obj_name</span>

    <span class='id identifier rubyid_objects_to_remove'>objects_to_remove</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_space_equipment'>space_equipment</span>
    <span class='id identifier rubyid_objects_to_remove'>objects_to_remove</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_space_equipment'>space_equipment</span><span class='period'>.</span><span class='id identifier rubyid_waterUseEquipmentDefinition'>waterUseEquipmentDefinition</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_space_equipment'>space_equipment</span><span class='period'>.</span><span class='id identifier rubyid_flowRateFractionSchedule'>flowRateFractionSchedule</span><span class='period'>.</span><span class='id identifier rubyid_is_initialized'>is_initialized</span>
      <span class='id identifier rubyid_objects_to_remove'>objects_to_remove</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_space_equipment'>space_equipment</span><span class='period'>.</span><span class='id identifier rubyid_flowRateFractionSchedule'>flowRateFractionSchedule</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_space_equipment'>space_equipment</span><span class='period'>.</span><span class='id identifier rubyid_waterUseEquipmentDefinition'>waterUseEquipmentDefinition</span><span class='period'>.</span><span class='id identifier rubyid_targetTemperatureSchedule'>targetTemperatureSchedule</span><span class='period'>.</span><span class='id identifier rubyid_is_initialized'>is_initialized</span>
      <span class='id identifier rubyid_objects_to_remove'>objects_to_remove</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_space_equipment'>space_equipment</span><span class='period'>.</span><span class='id identifier rubyid_waterUseEquipmentDefinition'>waterUseEquipmentDefinition</span><span class='period'>.</span><span class='id identifier rubyid_targetTemperatureSchedule'>targetTemperatureSchedule</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_objects_to_remove'>objects_to_remove</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_runner'>runner</span><span class='period'>.</span><span class='id identifier rubyid_registerInfo'>registerInfo</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Removed existing dishwasher from space &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_space'>space</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_objects_to_remove'>objects_to_remove</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_object'>object</span><span class='op'>|</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_remove'>remove</span>
    <span class='kw'>rescue</span>
      <span class='comment'># no op
</span>    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Tue Jan  8 16:00:19 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.16 (ruby-2.2.6).
</div>

    </div>
  </body>
</html>